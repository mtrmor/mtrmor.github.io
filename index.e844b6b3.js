var t,e,n,i,r,o,a,s,l=globalThis,c={},h={},u=l.parcelRequiref5f3;null==u&&((u=function(t){if(t in c)return c[t].exports;if(t in h){var e=h[t];delete h[t];var n={id:t,exports:{}};return c[t]=n,e.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){h[t]=e},l.parcelRequiref5f3=u);var d=u.register;function p(t,e){customElements.define(t,e);let n=class{constructor(e){this.htmlElement=document.createElement(t),this.htmlElement.setProps(e)}render(){return this.htmlElement}isComponent(){return!0}};return n.tagName=t,n}function f(t){return void 0!==t&&(t instanceof HTMLElement||"string"==typeof t||"isComponent"in t)}function m(t,...e){let n=document.createElement(t),i=e.find(t=>!f(t)),r=e.filter(f);if(i){let t=Object.entries(i).filter(([t])=>!t.startsWith("on")),e=Object.entries(i).filter(([t])=>t.startsWith("on"));!function(t,e){e.forEach(([e,n])=>{if("boolean"==typeof n){t[e]=n;return}"string"==typeof n&&t.setAttribute(e,n)})}(n,t),function(t,e){e.forEach(([e,n])=>{t.addEventListener(e.slice(2),n)})}(n,e),i.setRef?.(n)}return r&&r.forEach(t=>{if("string"!=typeof t&&"isComponent"in t){let e=t.render();Array.isArray(e)?n.append(...e):n.append(e)}else n.append(t)}),n}d("hQZpm",function(t,e){var n=u("Gr8vk");t.exports=n("8aAMZ").then(()=>u("4Vc2z"))}),d("Gr8vk",function(t,e){t.exports=function(t){return import(u("27Lyk").resolve(t))}}),tb="_fQK7q_appScreenContainer",ty="_fQK7q_content",tw="_fQK7q_header",tS="_fQK7q_homeScreen",tx="_fQK7q_menu",tE="_fQK7q_nextScreen";const g=(...t)=>m("button",...t),v=(...t)=>m("div",...t),b=(...t)=>m("span",...t),y=new Map;class w extends HTMLElement{connectedCallback(){Array.from(y.entries()).forEach(([t,e])=>{let n=t.tagName;document.querySelectorAll(n).forEach(t=>{null!==t&&(t===this||t.contains(this))&&(this.__context=e)})}),this.render(),this.mounted()}disconnectedCallback(){this.unmounted()}mounted(){}unmounted(){}setProps(t){this.props=t}getContext(){return this.__context}render(){let t=this.template();if(Array.isArray(t)){this.replaceChildren(...t);return}this.replaceChildren(t)}}function S(){return(S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(null,arguments)}(tv=tC||(tC={})).Pop="POP",tv.Push="PUSH",tv.Replace="REPLACE";var x=function(t){return t},E="beforeunload";function C(t){t.preventDefault(),t.returnValue=""}function T(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter(function(t){return t!==e})}},call:function(e){t.forEach(function(t){return t&&t(e)})}}}const D=p("app-header",class extends w{mounted(){this.classList.add(this.props.class)}template(){return v()}}),_=p("feature-component",class extends w{template(){return[v("string 1"),v("string 2")]}});tT="ifIltq_screen";const A=p("screen-1",class extends w{template(){return v(g("Next screen",{onclick:this.props.onNextScreenClick}),v(this.props.greeting),v(this.props.getRandomNumber()),new _,v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"}),{class:tT})}mounted(){this.id="screen-1",this.props.class&&this.classList.add(this.props.class)}});/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach(function(e){var i;i=n[e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(){return(P=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function N(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}tD="_8bMRBq_screenContainer";var O=N(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),M=N(/Edge/i),R=N(/firefox/i),B=N(/safari/i)&&!N(/chrome/i)&&!N(/android/i),L=N(/iP(ad|od|hone)/i),F=N(/chrome/i)&&N(/android/i),H={capture:!1,passive:!1};function Y(t,e,n){t.addEventListener(e,n,!O&&H)}function j(t,e,n){t.removeEventListener(e,n,!O&&H)}function W(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){}return!1}}function z(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function $(t,e,n,i){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&W(t,e):W(t,e))||i&&t===n)return t;if(t===n)break}while(t=z(t))}return null}var q=/\s+/g;function U(t,e,n){if(t&&e){if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(q," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(q," ")}}}function G(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||-1!==e.indexOf("webkit")||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function Q(t,e){var n="";if("string"==typeof t)n=t;else do{var i=G(t,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!e&&(t=t.parentNode))var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function K(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function V(){return document.scrollingElement||document.documentElement}function Z(t,e,n,i,r){if(t.getBoundingClientRect||t===window){if(t!==window&&t.parentNode&&t!==V()?(a=(o=t.getBoundingClientRect()).top,s=o.left,l=o.bottom,c=o.right,h=o.height,u=o.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,h=window.innerHeight,u=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!O))do if(r&&r.getBoundingClientRect&&("none"!==G(r,"transform")||n&&"static"!==G(r,"position"))){var o,a,s,l,c,h,u,d=r.getBoundingClientRect();a-=d.top+parseInt(G(r,"border-top-width")),s-=d.left+parseInt(G(r,"border-left-width")),l=a+o.height,c=s+o.width;break}while(r=r.parentNode)if(i&&t!==window){var p=Q(r||t),f=p&&p.a,m=p&&p.d;p&&(a/=m,s/=f,u/=f,h/=m,l=a+h,c=s+u)}return{top:a,left:s,bottom:l,right:c,width:u,height:h}}}function J(t,e,n){for(var i=tr(t,!0),r=Z(t)[e];i;){var o=Z(i)[n];if(!("top"===n||"left"===n?r>=o:r<=o))return i;if(i===V())break;i=tr(i,!1)}return!1}function tt(t,e,n,i){for(var r=0,o=0,a=t.children;o<a.length;){if("none"!==a[o].style.display&&a[o]!==ec.ghost&&(i||a[o]!==ec.dragged)&&$(a[o],n.draggable,t,!1)){if(r===e)return a[o];r++}o++}return null}function te(t,e){for(var n=t.lastElementChild;n&&(n===ec.ghost||"none"===G(n,"display")||e&&!W(n,e));)n=n.previousElementSibling;return n||null}function tn(t,e){var n=0;if(!t||!t.parentNode)return -1;for(;t=t.previousElementSibling;)"TEMPLATE"!==t.nodeName.toUpperCase()&&t!==ec.clone&&(!e||W(t,e))&&n++;return n}function ti(t){var e=0,n=0,i=V();if(t)do{var r=Q(t),o=r.a,a=r.d;e+=t.scrollLeft*o,n+=t.scrollTop*a}while(t!==i&&(t=t.parentNode))return[e,n]}function tr(t,e){if(!t||!t.getBoundingClientRect)return V();var n=t,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=G(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return V();if(i||e)return n;i=!0}}while(n=n.parentNode)return V()}function to(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function ta(t,e){return function(){if(!t_){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),t_=setTimeout(function(){t_=void 0},e)}}}function ts(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function tl(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function tc(t,e,n){var i={};return Array.from(t.children).forEach(function(r){if($(r,e.draggable,t,!1)&&!r.animated&&r!==n){var o,a,s,l,c=Z(r);i.left=Math.min(null!==(o=i.left)&&void 0!==o?o:1/0,c.left),i.top=Math.min(null!==(a=i.top)&&void 0!==a?a:1/0,c.top),i.right=Math.max(null!==(s=i.right)&&void 0!==s?s:-1/0,c.right),i.bottom=Math.max(null!==(l=i.bottom)&&void 0!==l?l:-1/0,c.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var th="Sortable"+new Date().getTime(),tu=[],td={initializeByDefault:!0},tp={mount:function(t){for(var e in td)!td.hasOwnProperty(e)||e in t||(t[e]=td[e]);tu.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),tu.push(t)},pluginEvent:function(t,e,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=t+"Global";tu.forEach(function(i){e[i.pluginName]&&(e[i.pluginName][r]&&e[i.pluginName][r](I({sortable:e},n)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](I({sortable:e},n)))})},initializePlugins:function(t,e,n,i){for(var r in tu.forEach(function(i){var r=i.pluginName;if(t.options[r]||i.initializeByDefault){var o=new i(t,e,t.options);o.sortable=t,o.options=t.options,t[r]=o,P(n,o.defaults)}}),t.options)if(t.options.hasOwnProperty(r)){var o=this.modifyOption(t,r,t.options[r]);void 0!==o&&(t.options[r]=o)}},getEventProperties:function(t,e){var n={};return tu.forEach(function(i){"function"==typeof i.eventProperties&&P(n,i.eventProperties.call(e[i.pluginName],t))}),n},modifyOption:function(t,e,n){var i;return tu.forEach(function(r){t[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[e]&&(i=r.optionListeners[e].call(t[r.pluginName],n))}),i}},tf=["evt"],tm=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,r=function(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(n,tf);tp.pluginEvent.bind(ec)(t,e,I({dragEl:tA,parentEl:tk,ghostEl:tI,rootEl:tX,nextEl:tP,lastDownEl:tN,cloneEl:tO,cloneHidden:tM,dragStarted:tG,putSortable:tY,activeSortable:ec.active,originalEvent:i,oldIndex:tR,oldDraggableIndex:tL,newIndex:tB,newDraggableIndex:tF,hideGhostForTarget:eo,unhideGhostForTarget:ea,cloneNowHidden:function(){tM=!0},cloneNowShown:function(){tM=!1},dispatchSortableEvent:function(t){tg({sortable:e,name:t,originalEvent:i})}},r))};function tg(t){!function(t){var e=t.sortable,n=t.rootEl,i=t.name,r=t.targetEl,o=t.cloneEl,a=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,h=t.oldDraggableIndex,u=t.newDraggableIndex,d=t.originalEvent,p=t.putSortable,f=t.extraEventProperties;if(e=e||n&&n[th]){var m,g=e.options,v="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||O||M?(m=document.createEvent("Event")).initEvent(i,!0,!0):m=new CustomEvent(i,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=r||n,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=h,m.newDraggableIndex=u,m.originalEvent=d,m.pullMode=p?p.lastPutMode:void 0;var b=I(I({},f),tp.getEventProperties(i,e));for(var y in b)m[y]=b[y];n&&n.dispatchEvent(m),g[v]&&g[v].call(e,m)}}(I({putSortable:tY,cloneEl:tO,targetEl:tA,rootEl:tX,oldIndex:tR,oldDraggableIndex:tL,newIndex:tB,newDraggableIndex:tF},t))}var tv,tb,ty,tw,tS,tx,tE,tC,tT,tD,t_,tA,tk,tI,tX,tP,tN,tO,tM,tR,tB,tL,tF,tH,tY,tj,tW,tz,t$,tq,tU,tG,tQ,tK,tV,tZ,tJ=!1,t0=!1,t1=[],t5=!1,t2=!1,t3=[],t7=!1,t4=[],t8="undefined"!=typeof document,t6=M||O?"cssFloat":"float",t9=t8&&!F&&!L&&"draggable"in document.createElement("div"),et=function(){if(t8){if(O)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),ee=function(t,e){var n=G(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=tt(t,0,e),o=tt(t,1,e),a=r&&G(r),s=o&&G(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Z(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Z(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){var h="left"===a.float?"left":"right";return o&&("both"===s.clear||s.clear===h)?"vertical":"horizontal"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=i&&"none"===n[t6]||o&&"none"===n[t6]&&l+c>i)?"vertical":"horizontal"},en=function(t,e,n){var i=n?t.left:t.top,r=n?t.right:t.bottom,o=n?t.width:t.height,a=n?e.left:e.top,s=n?e.right:e.bottom,l=n?e.width:e.height;return i===a||r===s||i+o/2===a+l/2},ei=function(t,e){var n;return t1.some(function(i){var r=i[th].options.emptyInsertThreshold;if(!(!r||te(i))){var o=Z(i),a=t>=o.left-r&&t<=o.right+r,s=e>=o.top-r&&e<=o.bottom+r;if(a&&s)return n=i}}),n},er=function(t){function e(t,n){return function(i,r,o,a){var s=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==t&&(n||s))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(i,r,o,a),n)(i,r,o,a);var l=(n?i:r).options.group.name;return!0===t||"string"==typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var n={},i=t.group;i&&"object"==X(i)||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n},eo=function(){!et&&tI&&G(tI,"display","none")},ea=function(){!et&&tI&&G(tI,"display","")};t8&&!F&&document.addEventListener("click",function(t){if(t0)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),t0=!1,!1},!0);var es=function(t){if(tA){var e=ei((t=t.touches?t.touches[0]:t).clientX,t.clientY);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[th]._onDragOver(n)}}},el=function(t){tA&&tA.parentNode[th]._isOutsideThisEl(t.target)};function ec(t,e){if(!(t&&t.nodeType&&1===t.nodeType))throw"Sortable: `el` must be an HTMLElement, not ".concat(({}).toString.call(t));this.el=t,this.options=e=P({},e),t[th]=this;var n,i,r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ee(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==ec.supportPointer&&"PointerEvent"in window&&!B,emptyInsertThreshold:5};for(var o in tp.initializePlugins(this,t,r),r)o in e||(e[o]=r[o]);for(var a in er(e),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!e.forceFallback&&t9,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Y(t,"pointerdown",this._onTapStart):(Y(t,"mousedown",this._onTapStart),Y(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Y(t,"dragover",this),Y(t,"dragenter",this)),t1.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),P(this,(i=[],{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){if("none"!==G(t,"display")&&t!==ec.ghost){i.push({target:t,rect:Z(t)});var e=I({},i[i.length-1].rect);if(t.thisAnimationDuration){var n=Q(t,!0);n&&(e.top-=n.f,e.left-=n.e)}t.fromRect=e}})},addAnimationState:function(t){i.push(t)},removeAnimationState:function(t){i.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n)}return -1}(i,{target:t}),1)},animateAll:function(t){var e=this;if(!this.options.animation){clearTimeout(n),"function"==typeof t&&t();return}var r=!1,o=0;i.forEach(function(t){var n,i=0,a=t.target,s=a.fromRect,l=Z(a),c=a.prevFromRect,h=a.prevToRect,u=t.rect,d=Q(a,!0);d&&(l.top-=d.f,l.left-=d.e),a.toRect=l,a.thisAnimationDuration&&to(c,l)&&!to(s,l)&&(u.top-l.top)/(u.left-l.left)==(s.top-l.top)/(s.left-l.left)&&(n=e.options,i=Math.sqrt(Math.pow(c.top-u.top,2)+Math.pow(c.left-u.left,2))/Math.sqrt(Math.pow(c.top-h.top,2)+Math.pow(c.left-h.left,2))*n.animation),to(l,s)||(a.prevFromRect=s,a.prevToRect=l,i||(i=e.options.animation),e.animate(a,u,l,i)),i&&(r=!0,o=Math.max(o,i),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},i),a.thisAnimationDuration=i)}),clearTimeout(n),r?n=setTimeout(function(){"function"==typeof t&&t()},o):"function"==typeof t&&t(),i=[]},animate:function(t,e,n,i){if(i){G(t,"transition",""),G(t,"transform","");var r=Q(this.el),o=r&&r.a,a=r&&r.d,s=(e.left-n.left)/(o||1),l=(e.top-n.top)/(a||1);t.animatingX=!!s,t.animatingY=!!l,G(t,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=t.offsetWidth,G(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),G(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){G(t,"transition",""),G(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},i)}}}))}function eh(t,e,n,i,r,o,a,s){var l,c,h=t[th],u=h.options.onMove;return!window.CustomEvent||O||M?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=r||e,l.relatedRect=o||Z(e),l.willInsertAfter=s,l.originalEvent=a,t.dispatchEvent(l),u&&(c=u.call(h,l,a)),c}function eu(t){t.draggable=!1}function ed(){t7=!1}function ep(t){return setTimeout(t,0)}function ef(t){return clearTimeout(t)}ec.prototype={constructor:ec,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(tQ=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,tA):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,i=this.options,r=i.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=i.filter;if(function(t){t4.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&t4.push(i)}}(n),!(tA||/mousedown|pointerdown/.test(o)&&0!==t.button||i.disabled||l.isContentEditable||!this.nativeDraggable&&B&&s&&"SELECT"===s.tagName.toUpperCase()||(s=$(s,i.draggable,n,!1))&&s.animated)&&tN!==s){if(tR=tn(s),tL=tn(s,i.draggable),"function"==typeof c){if(c.call(this,t,s,this)){tg({sortable:e,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),tm("filter",e,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(i){if(i=$(l,i.trim(),n,!1))return tg({sortable:e,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),tm("filter",e,{evt:t}),!0}))){r&&t.cancelable&&t.preventDefault();return}(!i.handle||$(l,i.handle,n,!1))&&this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,e,n){var i,r=this,o=r.el,a=r.options,s=o.ownerDocument;if(n&&!tA&&n.parentNode===o){var l=Z(n);if(tX=o,tk=(tA=n).parentNode,tP=tA.nextSibling,tN=n,tH=a.group,ec.dragged=tA,tq=(tj={target:tA,clientX:(e||t).clientX,clientY:(e||t).clientY}).clientX-l.left,tU=tj.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,tA.style["will-change"]="all",i=function(){if(tm("delayEnded",r,{evt:t}),ec.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!R&&r.nativeDraggable&&(tA.draggable=!0),r._triggerDragStart(t,e),tg({sortable:r,name:"choose",originalEvent:t}),U(tA,a.chosenClass,!0)},a.ignore.split(",").forEach(function(t){K(tA,t.trim(),eu)}),Y(s,"dragover",es),Y(s,"mousemove",es),Y(s,"touchmove",es),Y(s,"mouseup",r._onDrop),Y(s,"touchend",r._onDrop),Y(s,"touchcancel",r._onDrop),R&&this.nativeDraggable&&(this.options.touchStartThreshold=4,tA.draggable=!0),tm("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(M||O))i();else{if(ec.eventCanceled){this._onDrop();return}Y(s,"mouseup",r._disableDelayedDrag),Y(s,"touchend",r._disableDelayedDrag),Y(s,"touchcancel",r._disableDelayedDrag),Y(s,"mousemove",r._delayedDragTouchMoveHandler),Y(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&Y(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,a.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){tA&&eu(tA),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;j(t,"mouseup",this._disableDelayedDrag),j(t,"touchend",this._disableDelayedDrag),j(t,"touchcancel",this._disableDelayedDrag),j(t,"mousemove",this._delayedDragTouchMoveHandler),j(t,"touchmove",this._delayedDragTouchMoveHandler),j(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?Y(document,"pointermove",this._onTouchMove):e?Y(document,"touchmove",this._onTouchMove):Y(document,"mousemove",this._onTouchMove):(Y(tA,"dragend",this),Y(tX,"dragstart",this._onDragStart));try{document.selection?ep(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(tJ=!1,tX&&tA){tm("dragStarted",this,{evt:e}),this.nativeDraggable&&Y(document,"dragover",el);var n=this.options;t||U(tA,n.dragClass,!1),U(tA,n.ghostClass,!0),ec.active=this,t&&this._appendGhost(),tg({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(tW){this._lastX=tW.clientX,this._lastY=tW.clientY,eo();for(var t=document.elementFromPoint(tW.clientX,tW.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(tW.clientX,tW.clientY))!==e;)e=t;if(tA.parentNode[th]._isOutsideThisEl(t),e)do{if(e[th]&&e[th]._onDragOver({clientX:tW.clientX,clientY:tW.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=z(e))ea()}},_onTouchMove:function(t){if(tj){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,r=t.touches?t.touches[0]:t,o=tI&&Q(tI,!0),a=tI&&o&&o.a,s=tI&&o&&o.d,l=L&&tZ&&ti(tZ),c=(r.clientX-tj.clientX+i.x)/(a||1)+(l?l[0]-t3[0]:0)/(a||1),h=(r.clientY-tj.clientY+i.y)/(s||1)+(l?l[1]-t3[1]:0)/(s||1);if(!ec.active&&!tJ){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(tI){o?(o.e+=c-(tz||0),o.f+=h-(t$||0)):o={a:1,b:0,c:0,d:1,e:c,f:h};var u="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");G(tI,"webkitTransform",u),G(tI,"mozTransform",u),G(tI,"msTransform",u),G(tI,"transform",u),tz=c,t$=h,tW=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!tI){var t=this.options.fallbackOnBody?document.body:tX,e=Z(tA,!0,L,!0,t),n=this.options;if(L){for(tZ=t;"static"===G(tZ,"position")&&"none"===G(tZ,"transform")&&tZ!==document;)tZ=tZ.parentNode;tZ!==document.body&&tZ!==document.documentElement?(tZ===document&&(tZ=V()),e.top+=tZ.scrollTop,e.left+=tZ.scrollLeft):tZ=V(),t3=ti(tZ)}U(tI=tA.cloneNode(!0),n.ghostClass,!1),U(tI,n.fallbackClass,!0),U(tI,n.dragClass,!0),G(tI,"transition",""),G(tI,"transform",""),G(tI,"box-sizing","border-box"),G(tI,"margin",0),G(tI,"top",e.top),G(tI,"left",e.left),G(tI,"width",e.width),G(tI,"height",e.height),G(tI,"opacity","0.8"),G(tI,"position",L?"absolute":"fixed"),G(tI,"zIndex","100000"),G(tI,"pointerEvents","none"),ec.ghost=tI,t.appendChild(tI),G(tI,"transform-origin",tq/parseInt(tI.style.width)*100+"% "+tU/parseInt(tI.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,r=n.options;if(tm("dragStart",this,{evt:t}),ec.eventCanceled){this._onDrop();return}tm("setupClone",this),ec.eventCanceled||((tO=tl(tA)).removeAttribute("id"),tO.draggable=!1,tO.style["will-change"]="",this._hideClone(),U(tO,this.options.chosenClass,!1),ec.clone=tO),n.cloneId=ep(function(){tm("clone",n),ec.eventCanceled||(n.options.removeCloneOnHide||tX.insertBefore(tO,tA),n._hideClone(),tg({sortable:n,name:"clone"}))}),e||U(tA,r.dragClass,!0),e?(t0=!0,n._loopId=setInterval(n._emulateDragOver,50)):(j(document,"mouseup",n._onDrop),j(document,"touchend",n._onDrop),j(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,tA)),Y(document,"drop",n),G(tA,"transform","translateZ(0)")),tJ=!0,n._dragStartId=ep(n._dragStarted.bind(n,e,t)),Y(document,"selectstart",n),tG=!0,B&&G(document.body,"user-select","none")},_onDragOver:function(t){var e,n,i,r,o=this.el,a=t.target,s=this.options,l=s.group,c=ec.active,h=tH===l,u=s.sort,d=tY||c,p=this,f=!1;if(!t7){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=$(a,s.draggable,o,!0),R("dragOver"),ec.eventCanceled)return f;if(tA.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return L(!1);if(t0=!1,c&&!s.disabled&&(h?u||(i=tk!==tX):tY===this||(this.lastPutMode=tH.checkPull(this,c,tA,t))&&l.checkPut(this,c,tA,t))){if(r="vertical"===this._getDirection(t,a),e=Z(tA),R("dragOverValid"),ec.eventCanceled)return f;if(i)return tk=tX,B(),this._hideClone(),R("revert"),ec.eventCanceled||(tP?tX.insertBefore(tA,tP):tX.appendChild(tA)),L(!0);var m=te(o,s.draggable);if(!m||(v=r,b=Z(te(this.el,this.options.draggable)),y=tc(this.el,this.options,tI),(v?t.clientX>y.right+10||t.clientY>b.bottom&&t.clientX>b.left:t.clientY>y.bottom+10||t.clientX>b.right&&t.clientY>b.top)&&!m.animated)){if(m===tA)return L(!1);if(m&&o===t.target&&(a=m),a&&(n=Z(a)),!1!==eh(tX,o,tA,e,a,n,t,!!a))return B(),m&&m.nextSibling?o.insertBefore(tA,m.nextSibling):o.appendChild(tA),tk=o,F(),L(!0)}else if(m&&(w=r,S=Z(tt(this.el,0,this.options,!0)),x=tc(this.el,this.options,tI),w?t.clientX<x.left-10||t.clientY<S.top&&t.clientX<S.right:t.clientY<x.top-10||t.clientY<S.bottom&&t.clientX<S.left)){var g=tt(o,0,s,!0);if(g===tA)return L(!1);if(n=Z(a=g),!1!==eh(tX,o,tA,e,a,n,t,!1))return B(),o.insertBefore(tA,g),tk=o,F(),L(!0)}else if(a.parentNode===o){n=Z(a);var v,b,y,w,S,x,E,C,T=0,D=tA.parentNode!==o,_=!en(tA.animated&&tA.toRect||e,a.animated&&a.toRect||n,r),A=r?"top":"left",k=J(a,"top","top")||J(tA,"top","top"),X=k?k.scrollTop:void 0;if(tQ!==a&&(C=n[A],t5=!1,t2=!_&&s.invertSwap||D),0!==(T=function(t,e,n,i,r,o,a,s){var l=i?t.clientY:t.clientX,c=i?n.height:n.width,h=i?n.top:n.left,u=i?n.bottom:n.right,d=!1;if(!a){if(s&&tV<c*r){if(!t5&&(1===tK?l>h+c*o/2:l<u-c*o/2)&&(t5=!0),t5)d=!0;else if(1===tK?l<h+tV:l>u-tV)return-tK}else if(l>h+c*(1-r)/2&&l<u-c*(1-r)/2)return tn(tA)<tn(e)?1:-1}return(d=d||a)&&(l<h+c*o/2||l>u-c*o/2)?l>h+c/2?1:-1:0}(t,a,n,r,_?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,t2,tQ===a))){var P=tn(tA);do P-=T,E=tk.children[P];while(E&&("none"===G(E,"display")||E===tI))}if(0===T||E===a)return L(!1);tQ=a,tK=T;var N=a.nextElementSibling,O=!1,M=eh(tX,o,tA,e,a,n,t,O=1===T);if(!1!==M)return(1===M||-1===M)&&(O=1===M),t7=!0,setTimeout(ed,30),B(),O&&!N?o.appendChild(tA):a.parentNode.insertBefore(tA,O?N:a),k&&ts(k,0,X-k.scrollTop),tk=tA.parentNode,void 0===C||t2||(tV=Math.abs(C-Z(a)[A])),F(),L(!0)}if(o.contains(tA))return L(!1)}return!1}function R(s,l){tm(s,p,I({evt:t,isOwner:h,axis:r?"vertical":"horizontal",revert:i,dragRect:e,targetRect:n,canSort:u,fromSortable:d,target:a,completed:L,onMove:function(n,i){return eh(tX,o,tA,e,n,Z(n),t,i)},changed:F},l))}function B(){R("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function L(e){return R("dragOverCompleted",{insertion:e}),e&&(h?c._hideClone():c._showClone(p),p!==d&&(U(tA,tY?tY.options.ghostClass:c.options.ghostClass,!1),U(tA,s.ghostClass,!0)),tY!==p&&p!==ec.active?tY=p:p===ec.active&&tY&&(tY=null),d===p&&(p._ignoreWhileAnimating=a),p.animateAll(function(){R("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(a!==tA||tA.animated)&&(a!==o||a.animated)||(tQ=null),s.dragoverBubble||t.rootEl||a===document||(tA.parentNode[th]._isOutsideThisEl(t.target),e||es(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),f=!0}function F(){tB=tn(tA),tF=tn(tA,s.draggable),tg({sortable:p,name:"change",toEl:o,newIndex:tB,newDraggableIndex:tF,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){j(document,"mousemove",this._onTouchMove),j(document,"touchmove",this._onTouchMove),j(document,"pointermove",this._onTouchMove),j(document,"dragover",es),j(document,"mousemove",es),j(document,"touchmove",es)},_offUpEvents:function(){var t=this.el.ownerDocument;j(t,"mouseup",this._onDrop),j(t,"touchend",this._onDrop),j(t,"pointerup",this._onDrop),j(t,"touchcancel",this._onDrop),j(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;if(tB=tn(tA),tF=tn(tA,n.draggable),tm("drop",this,{evt:t}),tk=tA&&tA.parentNode,tB=tn(tA),tF=tn(tA,n.draggable),ec.eventCanceled){this._nulling();return}tJ=!1,t2=!1,t5=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ef(this.cloneId),ef(this._dragStartId),this.nativeDraggable&&(j(document,"drop",this),j(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),B&&G(document.body,"user-select",""),G(tA,"transform",""),t&&(tG&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),tI&&tI.parentNode&&tI.parentNode.removeChild(tI),(tX===tk||tY&&"clone"!==tY.lastPutMode)&&tO&&tO.parentNode&&tO.parentNode.removeChild(tO),tA&&(this.nativeDraggable&&j(tA,"dragend",this),eu(tA),tA.style["will-change"]="",tG&&!tJ&&U(tA,tY?tY.options.ghostClass:this.options.ghostClass,!1),U(tA,this.options.chosenClass,!1),tg({sortable:this,name:"unchoose",toEl:tk,newIndex:null,newDraggableIndex:null,originalEvent:t}),tX!==tk?(tB>=0&&(tg({rootEl:tk,name:"add",toEl:tk,fromEl:tX,originalEvent:t}),tg({sortable:this,name:"remove",toEl:tk,originalEvent:t}),tg({rootEl:tk,name:"sort",toEl:tk,fromEl:tX,originalEvent:t}),tg({sortable:this,name:"sort",toEl:tk,originalEvent:t})),tY&&tY.save()):tB!==tR&&tB>=0&&(tg({sortable:this,name:"update",toEl:tk,originalEvent:t}),tg({sortable:this,name:"sort",toEl:tk,originalEvent:t})),ec.active&&((null==tB||-1===tB)&&(tB=tR,tF=tL),tg({sortable:this,name:"end",toEl:tk,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){tm("nulling",this),tX=tA=tk=tI=tP=tO=tN=tM=tj=tW=tG=tB=tF=tR=tL=tQ=tK=tY=tH=ec.dragged=ec.ghost=ec.clone=ec.active=null,t4.forEach(function(t){t.checked=!0}),t4.length=tz=t$=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":tA&&(this._onDragOver(t),t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault());break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)$(t=n[i],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||function(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}(t));return e},sort:function(t,e){var n={},i=this.el;this.toArray().forEach(function(t,e){var r=i.children[e];$(r,this.options.draggable,i,!1)&&(n[t]=r)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(i.removeChild(n[t]),i.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return $(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var i=tp.modifyOption(this,t,e);void 0!==i?n[t]=i:n[t]=e,"group"===t&&er(n)},destroy:function(){tm("destroy",this);var t=this.el;t[th]=null,j(t,"mousedown",this._onTapStart),j(t,"touchstart",this._onTapStart),j(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(j(t,"dragover",this),j(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),t1.splice(t1.indexOf(this.el),1),this.el=null},_hideClone:function(){tM||(tm("hideClone",this),ec.eventCanceled||(G(tO,"display","none"),this.options.removeCloneOnHide&&tO.parentNode&&tO.parentNode.removeChild(tO),tM=!0))},_showClone:function(t){if("clone"!==t.lastPutMode){this._hideClone();return}if(tM){if(tm("showClone",this),ec.eventCanceled)return;tA.parentNode!=tX||this.options.group.revertClone?tP?tX.insertBefore(tO,tP):tX.appendChild(tO):tX.insertBefore(tO,tA),this.options.group.revertClone&&this.animate(tA,tO),G(tO,"display",""),tM=!1}}},t8&&Y(document,"touchmove",function(t){(ec.active||tJ)&&t.cancelable&&t.preventDefault()}),ec.utils={on:Y,off:j,css:G,find:K,is:function(t,e){return!!$(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:ta,closest:$,toggleClass:U,clone:tl,index:tn,nextTick:ep,cancelNextTick:ef,detectDirection:ee,getChild:tt,expando:th},ec.get=function(t){return t[th]},ec.mount=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat(({}).toString.call(t));t.utils&&(ec.utils=I(I({},ec.utils),t.utils)),tp.mount(t)})},ec.create=function(t,e){return new ec(t,e)},ec.version="1.15.3";var em,eg,ev,eb,ey,ew,eS=[],ex=!1;function eE(){eS.forEach(function(t){clearInterval(t.pid)}),eS=[]}function eC(){clearInterval(ew)}var eT=ta(function(t,e,n,i){if(e.scroll){var r,o=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,c=V(),h=!1;eg!==n&&(eg=n,eE(),em=e.scroll,r=e.scrollFn,!0===em&&(em=tr(n,!0)));var u=0,d=em;do{var p=d,f=Z(p),m=f.top,g=f.bottom,v=f.left,b=f.right,y=f.width,w=f.height,S=void 0,x=void 0,E=p.scrollWidth,C=p.scrollHeight,T=G(p),D=p.scrollLeft,_=p.scrollTop;p===c?(S=y<E&&("auto"===T.overflowX||"scroll"===T.overflowX||"visible"===T.overflowX),x=w<C&&("auto"===T.overflowY||"scroll"===T.overflowY||"visible"===T.overflowY)):(S=y<E&&("auto"===T.overflowX||"scroll"===T.overflowX),x=w<C&&("auto"===T.overflowY||"scroll"===T.overflowY));var A=S&&(Math.abs(b-o)<=s&&D+y<E)-(Math.abs(v-o)<=s&&!!D),k=x&&(Math.abs(g-a)<=s&&_+w<C)-(Math.abs(m-a)<=s&&!!_);if(!eS[u])for(var I=0;I<=u;I++)eS[I]||(eS[I]={});(eS[u].vx!=A||eS[u].vy!=k||eS[u].el!==p)&&(eS[u].el=p,eS[u].vx=A,eS[u].vy=k,clearInterval(eS[u].pid),(0!=A||0!=k)&&(h=!0,eS[u].pid=setInterval((function(){i&&0===this.layer&&ec.active._onTouchMove(ey);var e=eS[this.layer].vy?eS[this.layer].vy*l:0,n=eS[this.layer].vx?eS[this.layer].vx*l:0;("function"!=typeof r||"continue"===r.call(ec.dragged.parentNode[th],n,e,t,ey,eS[this.layer].el))&&ts(eS[this.layer].el,n,e)}).bind({layer:u}),24))),u++}while(e.bubbleScroll&&d!==c&&(d=tr(d,!1)))ex=h}},30),eD=function(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,r=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var l=n||r;a();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,h=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(h)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function e_(){}function eA(){}e_.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=tt(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:eD},P(e_,{pluginName:"revertOnSpill"}),eA.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:eD},P(eA,{pluginName:"removeOnSpill"}),ec.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?Y(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Y(document,"pointermove",this._handleFallbackAutoScroll):e.touches?Y(document,"touchmove",this._handleFallbackAutoScroll):Y(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?j(document,"dragover",this._handleAutoScroll):(j(document,"pointermove",this._handleFallbackAutoScroll),j(document,"touchmove",this._handleFallbackAutoScroll),j(document,"mousemove",this._handleFallbackAutoScroll)),eC(),eE(),clearTimeout(t_),t_=void 0},nulling:function(){ey=eg=em=ex=ew=ev=eb=null,eS.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(i,r);if(ey=t,e||this.options.forceAutoScrollFallback||M||O||B){eT(t,this.options,o,e);var a=tr(o,!0);ex&&(!ew||i!==ev||r!==eb)&&(ew&&eC(),ew=setInterval(function(){var o=tr(document.elementFromPoint(i,r),!0);o!==a&&(a=o,eE()),eT(t,n.options,o,e)},10),ev=i,eb=r)}else{if(!this.options.bubbleScroll||tr(o,!0)===V()){eE();return}eT(t,this.options,tr(o,!1),!1)}}},P(t,{pluginName:"scroll",initializeByDefault:!0})}),ec.mount(eA,e_),n="lnb21q_gridContainer",i="lnb21q_screen",r="lnb21q_tile",o="lnb21q_tileGhost";const ek=p("screen-2",class extends w{setTilesContainer(t){this.tilesContainer=t}unmounted(){void 0!==this.sortableInstance&&this.sortableInstance.destroy()}template(){return v(v(v(b("1"),{class:r}),v(b("2"),{class:r}),v(b("3"),{class:r}),v(b("4"),{class:r}),v(b("5"),{class:r}),v(b("6"),{class:r}),v(b("7"),{class:r}),v(b("8"),{class:r}),v(b("9"),{class:r}),v(b("10"),{class:r}),v(b("11"),{class:r}),v(b("12"),{class:r}),v(b("13"),{class:r}),v(b("14"),{class:r}),v(b("15"),{class:r}),v(b("16"),{class:r}),v(b("17"),{class:r}),v(b("18"),{class:r}),{class:n,setRef:t=>{this.setTilesContainer(t)}}),{class:i})}mounted(){this.id="screen-2",void 0!==this.props.class&&this.classList.add(this.props.class),void 0!==this.tilesContainer&&(this.sortableInstance=new ec(this.tilesContainer,{ghostClass:o,animation:200,delayOnTouchOnly:!0,delay:150,scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,onChoose:()=>{this.props?.screenSlider.setSwipeEnabled(!1)},onStart:()=>{this.props?.screenSlider.setSwipeEnabled(!1)},onEnd:()=>{this.props?.screenSlider.setSwipeEnabled(!0)}}))}});function eI(t){return void 0!==t.isComponent}function eX(t){if(Array.isArray(t))return t.map(t=>eI(t)?t.render():t);if(!eI(t))throw Error("Render argument must be component or array");return t.render()}class eP{isComponent(){return!0}render(){return v("Экран 3")}}const eN=p("app-content",class extends w{get context(){return this.getContext()}mounted(){let t=this.props;this.classList.add(t.class);let e=eX([new A({getRandomNumber:t.getRandomNumber,greeting:t.greeting,onNextScreenClick:t.onNextScreenClick}),new ek({screenSlider:this.context.contentScreenSlider}),new eP]);this.context.contentScreenSlider.init(this.contentScreenContainer,e)}unmounted(){this.context.contentScreenSlider.destroy()}template(){return v({id:"content-screen-container",class:tD,setRef:t=>{this.contentScreenContainer=t}})}});class eO{getRandomNumber(){return String(Math.random())}}const eM=p("app-menu",class extends w{mounted(){this.classList.add(this.props.class)}template(){return eX([g("1",{onclick:this.props.onFirstScreenButtonClick}),g("2",{onclick:this.props.onSecondScreenButtonClick}),g("3",{onclick:this.props.onThirdScreenButtonClick}),g("4")])}}),eR=p("home-screen",class extends w{get context(){return this.getContext()}onFirstScreenButtonClick(){this.context.contentScreenSlider.goToScreen(0)}onSecondScreenButtonClick(){this.context.contentScreenSlider.goToScreen(1)}onThirdScreenButtonClick(){this.context.contentScreenSlider.goToScreen(2)}async onNextScreenButtonClick(){this.context.history.push(this.context.url(a.Next))}mounted(){this.classList.add(tS)}template(){return eX([new D({class:tw}),new eN({greeting:"hello world",getRandomNumber:new eO().getRandomNumber,class:ty,onNextScreenClick:()=>{this.onNextScreenButtonClick()}}),new eM({class:tx,onFirstScreenButtonClick:()=>{this.onFirstScreenButtonClick()},onSecondScreenButtonClick:()=>{this.onSecondScreenButtonClick()},onThirdScreenButtonClick:()=>{this.onThirdScreenButtonClick()}})])}}),eB="data-screen-transition-disabled",eL=p("next-screen",class extends w{get context(){return this.getContext()}mounted(){this.classList.add(tE)}template(){return eX([v("Следующий экран"),g("Назад",{[eB]:"",onclick:()=>{this.context.history.back(),this.context.appScreenTransition.prev()}}),v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"}),v({style:"height: 5rem; background-color: white"}),v({style:"height: 5rem; background-color: gray"})])}});function eF(t,e){void 0===e&&(e={});for(var n=/*! Universal Router | MIT License | https://www.kriasoft.com/universal-router/ */function(t){for(var e=[],n=0;n<t.length;){var i=t[n];if("*"===i||"+"===i||"?"===i){e.push({type:"MODIFIER",index:n,value:t[n++]});continue}if("\\"===i){e.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});continue}if("{"===i){e.push({type:"OPEN",index:n,value:t[n++]});continue}if("}"===i){e.push({type:"CLOSE",index:n,value:t[n++]});continue}if(":"===i){for(var r="",o=n+1;o<t.length;){var a=t.charCodeAt(o);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||95===a){r+=t[o++];continue}break}if(!r)throw TypeError("Missing parameter name at ".concat(n));e.push({type:"NAME",index:n,value:r}),n=o;continue}if("("===i){var s=1,l="",o=n+1;if("?"===t[o])throw TypeError('Pattern cannot start with "?" at '.concat(o));for(;o<t.length;){if("\\"===t[o]){l+=t[o++]+t[o++];continue}if(")"===t[o]){if(0==--s){o++;break}}else if("("===t[o]&&(s++,"?"!==t[o+1]))throw TypeError("Capturing groups are not allowed at ".concat(o));l+=t[o++]}if(s)throw TypeError("Unbalanced pattern at ".concat(n));if(!l)throw TypeError("Missing pattern at ".concat(n));e.push({type:"PATTERN",index:n,value:l}),n=o;continue}e.push({type:"CHAR",index:n,value:t[n++]})}return e.push({type:"END",index:n,value:""}),e}(t),i=e.prefixes,r=void 0===i?"./":i,o=e.delimiter,a=void 0===o?"/#?":o,s=[],l=0,c=0,h="",u=function(t){if(c<n.length&&n[c].type===t)return n[c++].value},d=function(t){var e=u(t);if(void 0!==e)return e;var i=n[c],r=i.type,o=i.index;throw TypeError("Unexpected ".concat(r," at ").concat(o,", expected ").concat(t))},p=function(){for(var t,e="";t=u("CHAR")||u("ESCAPED_CHAR");)e+=t;return e},f=function(t){for(var e=0;e<a.length;e++){var n=a[e];if(t.indexOf(n)>-1)return!0}return!1},m=function(t){var e=s[s.length-1],n=t||(e&&"string"==typeof e?e:"");if(e&&!n)throw TypeError('Must have text between two parameters, missing text after "'.concat(e.name,'"'));return!n||f(n)?"[^".concat(eH(a),"]+?"):"(?:(?!".concat(eH(n),")[^").concat(eH(a),"])+?")};c<n.length;){var g=u("CHAR"),v=u("NAME"),b=u("PATTERN");if(v||b){var y=g||"";-1===r.indexOf(y)&&(h+=y,y=""),h&&(s.push(h),h=""),s.push({name:v||l++,prefix:y,suffix:"",pattern:b||m(y),modifier:u("MODIFIER")||""});continue}var w=g||u("ESCAPED_CHAR");if(w){h+=w;continue}if(h&&(s.push(h),h=""),u("OPEN")){var y=p(),S=u("NAME")||"",x=u("PATTERN")||"",E=p();d("CLOSE"),s.push({name:S||(x?l++:""),pattern:S&&!x?m(y):x,prefix:y,suffix:E,modifier:u("MODIFIER")||""});continue}d("END")}return s}function eH(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function eY(t){return t&&t.sensitive?"":"i"}function ej(t){try{return decodeURIComponent(t)}catch(e){return t}}function eW(t,e){if("function"==typeof t.route.action)return t.route.action(t,e)}(t=a||(a={})).Home="home",t.Next="next";const ez=new(function(){function t(t,e){if(!t||"object"!=typeof t)throw TypeError("Invalid routes");this.options=Object.assign({decode:ej},e),this.baseUrl=this.options.baseUrl||"",this.root=Array.isArray(t)?{path:"",children:t,parent:null}:t,this.root.parent=null}return t.prototype.resolve=function(t){var e,n,i=this,r=Object.assign({router:this},this.options.context,"string"==typeof t?{pathname:t}:t),o=function t(e,n,i,r,o){var a,s,l=0;return{next:function(c){if(e===c)return{done:!0,value:!1};if(!a){var h,u,d,p,f,m,g=!e.children;if(!e.match&&(e.match=(h=function t(e,n,i){var r;return e instanceof RegExp?function(t,e){if(!e)return t;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,i=0,r=n.exec(t.source);r;)e.push({name:r[1]||i++,prefix:"",suffix:"",modifier:"",pattern:""}),r=n.exec(t.source);return t}(e,n):Array.isArray(e)?(r=e.map(function(e){return t(e,n,i).source}),new RegExp("(?:".concat(r.join("|"),")"),eY(i))):function(t,e,n){void 0===n&&(n={});for(var i=n.strict,r=void 0!==i&&i,o=n.start,a=n.end,s=n.encode,l=void 0===s?function(t){return t}:s,c=n.delimiter,h=n.endsWith,u="[".concat(eH(void 0===h?"":h),"]|$"),d="[".concat(eH(void 0===c?"/#?":c),"]"),p=void 0===o||o?"^":"",f=0;f<t.length;f++){var m=t[f];if("string"==typeof m)p+=eH(l(m));else{var g=eH(l(m.prefix)),v=eH(l(m.suffix));if(m.pattern){if(e&&e.push(m),g||v){if("+"===m.modifier||"*"===m.modifier){var b="*"===m.modifier?"?":"";p+="(?:".concat(g,"((?:").concat(m.pattern,")(?:").concat(v).concat(g,"(?:").concat(m.pattern,"))*)").concat(v,")").concat(b)}else p+="(?:".concat(g,"(").concat(m.pattern,")").concat(v,")").concat(m.modifier)}else{if("+"===m.modifier||"*"===m.modifier)throw TypeError('Can not repeat "'.concat(m.name,'" without a prefix and suffix'));p+="(".concat(m.pattern,")").concat(m.modifier)}}else p+="(?:".concat(g).concat(v,")").concat(m.modifier)}}if(void 0===a||a)r||(p+="".concat(d,"?")),p+=n.endsWith?"(?=".concat(u,")"):"$";else{var y=t[t.length-1],w="string"==typeof y?d.indexOf(y[y.length-1])>-1:void 0===y;r||(p+="(?:".concat(d,"(?=").concat(u,"))?")),w||(p+="(?=".concat(d,"|").concat(u,")"))}return new RegExp(p,eY(n))}(eF(e,i),n,i)}(e.path||"",m=[],f=Object.assign({end:g},i)),void 0===(u=f)&&(u={}),p=void 0===(d=u.decode)?function(t){return t}:d,function(t){var e=h.exec(t);if(!e)return!1;for(var n=e[0],i=e.index,r=Object.create(null),o=1;o<e.length;o++)!function(t){if(void 0!==e[t]){var n=m[t-1];"*"===n.modifier||"+"===n.modifier?r[n.name]=e[t].split(n.prefix+n.suffix).map(function(t){return p(t,n)}):r[n.name]=p(e[t],n)}}(o);return{path:n,index:i,params:r}})),a=e.match(r)){var v=a.path;return a.path=g||"/"!==v.charAt(v.length-1)?v:v.substr(1),a.params=Object.assign({},o,a.params),{done:!1,value:{route:e,baseUrl:n,path:a.path,params:a.params}}}}if(a&&e.children)for(;l<e.children.length;){if(!s){var b=e.children[l];b.parent=e,s=t(b,n+a.path,i,r.substr(a.path.length),a.params)}var y=s.next(c);if(!y.done)return{done:!1,value:y.value};s=null,l++}return{done:!0,value:!1}}}}(this.root,this.baseUrl,this.options,r.pathname.substr(this.baseUrl.length)),a=this.options.resolveRoute||eW,s=r;function l(t,i,c){void 0===i&&(i=!e.done&&e.value.route);var h=null===c&&!e.done&&e.value.route;if(e=n||o.next(h),n=null,!t&&(e.done||!function(t,e){for(var n=e;n;)if((n=n.parent)===t)return!0;return!1}(i,e.value.route)))return n=e,Promise.resolve(null);if(e.done){var u=Error("Route not found");return u.status=404,Promise.reject(u)}return Promise.resolve(a(s=Object.assign({},r,e.value),e.value.params)).then(function(e){return null!=e?e:l(t,i,e)})}return r.next=l,Promise.resolve().then(function(){return l(!0,i.root)}).catch(function(t){if(i.options.errorHandler)return i.options.errorHandler(t,s);throw t})},t}())([{path:"/",name:"home",action:()=>eX(new eR)},{path:"/next",name:"next",action:()=>eX(new eL)},{path:"(.*)",action:()=>v("Not found")}]),e$=function(t){void 0===t&&(t={});var e=t.window,n=void 0===e?document.defaultView:e,i=n.history;function r(){var t=n.location,e=t.pathname,r=t.search,o=t.hash,a=i.state||{};return[a.idx,x({pathname:e,search:r,hash:o,state:a.usr||null,key:a.key||"default"})]}var o=null;n.addEventListener("popstate",function(){if(o)u.call(o),o=null;else{var t=tC.Pop,e=r(),n=e[0],i=e[1];if(u.length){if(null!=n){var a=l-n;a&&(o={action:t,location:i,retry:function(){v(-1*a)}},v(a))}}else g(t)}});var a=tC.Pop,s=r(),l=s[0],c=s[1],h=T(),u=T();function d(t){var e,n,i,r,o,a;return"string"==typeof t?t:(n=void 0===(e=t.pathname)?"/":e,r=void 0===(i=t.search)?"":i,a=void 0===(o=t.hash)?"":o,r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n)}function p(t,e){return void 0===e&&(e=null),x(S({pathname:c.pathname,hash:"",search:""},"string"==typeof t?function(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}(t):t,{state:e,key:Math.random().toString(36).substr(2,8)}))}function f(t,e){return[{usr:t.state,key:t.key,idx:e},d(t)]}function m(t,e,n){return!u.length||(u.call({action:t,location:e,retry:n}),!1)}function g(t){a=t;var e=r();l=e[0],c=e[1],h.call({action:a,location:c})}function v(t){i.go(t)}return null==l&&(l=0,i.replaceState(S({},i.state,{idx:l}),"")),{get action(){return a},get location(){return c},createHref:d,push:function t(e,r){var o=tC.Push,a=p(e,r);if(m(o,a,function(){t(e,r)})){var s=f(a,l+1),c=s[0],h=s[1];try{i.pushState(c,"",h)}catch(t){n.location.assign(h)}g(o)}},replace:function t(e,n){var r=tC.Replace,o=p(e,n);if(m(r,o,function(){t(e,n)})){var a=f(o,l),s=a[0],c=a[1];i.replaceState(s,"",c),g(r)}},go:v,back:function(){v(-1)},forward:function(){v(1)},listen:function(t){return h.push(t)},block:function(t){var e=u.push(t);return 1===u.length&&n.addEventListener(E,C),function(){e(),u.length||n.removeEventListener(E,C)}}}}(),eq=function(t,e){if(!t)throw ReferenceError("Router is not defined");var n=new Map,i=new Map,r=Object.assign({encode:encodeURIComponent},void 0);return function(e,o){var a=n.get(e);if(!a&&(n.clear(),i.clear(),!/*! Universal Router | MIT License | https://www.kriasoft.com/universal-router/ */function t(e,n,i,r,o){if(n.name&&r&&e.has(r))throw Error('Route "'+r+'" already exists');if(n.name&&r&&e.set(r,n),i)for(var a=0;a<i.length;a++){var s=i[a],l=s.name;s.parent=n,t(e,s,s.children,r&&o?l?r+o+l:r:l,o)}}(n,t.root,t.root.children,t.root.name,r.uniqueRouteNameSep),!(a=n.get(e))))throw Error('Route "'+e+'" not found');var s=i.get(a);if(!s){for(var l,c,h,u,d,p,f,m="",g=a;g;){var v=Array.isArray(g.path)?g.path[0]:g.path;v&&(m=v+m),g=g.parent}for(var b=eF(m,r),y=(void 0===(l=r)&&(l={}),c=eY(l),u=void 0===(h=l.encode)?function(t){return t}:h,p=void 0===(d=l.validate)||d,f=b.map(function(t){if("object"==typeof t)return new RegExp("^(?:".concat(t.pattern,")$"),c)}),function(t){for(var e="",n=0;n<b.length;n++){var i=b[n];if("string"==typeof i){e+=i;continue}var r=t?t[i.name]:void 0,o="?"===i.modifier||"*"===i.modifier,a="*"===i.modifier||"+"===i.modifier;if(Array.isArray(r)){if(!a)throw TypeError('Expected "'.concat(i.name,'" to not repeat, but got an array'));if(0===r.length){if(o)continue;throw TypeError('Expected "'.concat(i.name,'" to not be empty'))}for(var s=0;s<r.length;s++){var l=u(r[s],i);if(p&&!f[n].test(l))throw TypeError('Expected all "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(l,'"'));e+=i.prefix+l+i.suffix}continue}if("string"==typeof r||"number"==typeof r){var l=u(String(r),i);if(p&&!f[n].test(l))throw TypeError('Expected "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(l,'"'));e+=i.prefix+l+i.suffix;continue}if(!o){var c=a?"an array":"a string";throw TypeError('Expected "'.concat(i.name,'" to be ').concat(c))}}return e}),w=Object.create(null),S=0;S<b.length;S++){var x=b[S];"string"!=typeof x&&(w[x.name]=!0)}s={toPath:y,keys:w},i.set(a,s)}var E=t.baseUrl+s.toPath(o)||"/";if(r.stringifyQueryParams&&o){for(var C={},T=Object.keys(o),D=0;D<T.length;D++){var _=T[D];s.keys[_]||(C[_]=o[_])}var A=r.stringifyQueryParams(C);A&&(E+="?"===A.charAt(0)?A:"?"+A)}return E}}(ez),eU=p("app-root",class extends w{get context(){return this.getContext()}async mounted(){location.pathname!==this.context.url(a.Home)&&this.context.history.replace(this.context.url(a.Home));let t=await this.context.router.resolve({pathname:location.pathname});this.context.appScreenTransition.init({container:this.appScreenContainer,initialScreen:t}),this.context.appScreenTransition.onSwipeBack(()=>{this.context.history.back()}),this.unlistenHistoryChanges=this.context.history.listen(async({location:t,action:e})=>{let n=await this.context.router.resolve({pathname:t.pathname});if(e===tC.Pop){await this.context.appScreenTransition.prev();return}await this.context.appScreenTransition.next(n)})}unmounted(){this.context.appScreenTransition.destroy(),this.unlistenHistoryChanges?.()}template(){return v({id:"app-screen-container",class:tb,setRef:t=>{this.appScreenContainer=t}})}});async function eG(){if(!("serviceWorker"in navigator))return;let{Workbox:t}=await u("hQZpm");new t("./service-worker.js").register()}function eQ(t,e=""){return`translate(${t}${e})`}(e=s||(s={})).Percent="%",e.Px="px";class eK{constructor(t){this.touchStartY=0,this.touchCurrentY=0,this.isSwipingHorizontally=null,this.swipeBackCallbacks=[],this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.touchStartX=0,this.touchCurrentX=0,this.currentScreenIndex=0,this.isDragging=!1,this.isAnimating=!1,this.screensCache=[],this.animations=[],this.options={disabledAreaSelectors:[],...t}}get prevScreen(){return this.screensCache[this.currentScreenIndex-1]}get currentScreen(){return this.screensCache[this.currentScreenIndex]}get canGoBack(){return this.currentScreen!==this.initialScreen}setupEventListeners(){if(void 0===this.container)throw Error("First need to execute the init method");this.container.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),this.container.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.container.addEventListener("touchend",this.handleTouchEnd,{passive:!1})}removeEventListeners(){if(void 0===this.container)throw Error("No container element founs");this.container.removeEventListener("touchstart",this.handleTouchStart),this.container.removeEventListener("touchmove",this.handleTouchMove),this.container.removeEventListener("touchend",this.handleTouchEnd)}applyDefaultStylesToScreen(t,e){let n={zIndex:"0",transform:eQ(0),...e};t.style.position="absolute",t.style.height="100%",t.style.width="100%",t.style.top="0",t.style.left="0",t.style.transform=n.transform,t.style.zIndex=n.zIndex}applyDefaultStylesToContainer(){if(void 0===this.container)throw Error("No container found");this.container.style.position="relative",this.container.style.overflow="hidden",this.container.style.width="100%",this.container.style.height="100%"}cancelAnimations(){this.animations.forEach(t=>t.cancel()),this.animations=[]}addPrevScreenToContainer(){this.currentScreen.before(this.prevScreen)}removePrevScreenFromContainer(){this.prevScreen.remove()}removeCurrentScreenFromContainer(){this.currentScreen.remove()}removeCurrentScreenFromCache(){this.screensCache=this.screensCache.filter(t=>t!==this.currentScreen)}async animateScreen(t,e,n){this.isAnimating=!0;let i=t.animate([{transform:e}],{duration:n?.duration??150,easing:"cubic-bezier(0, 0, 0.7, 1)",fill:"forwards"});this.animations.push(i),await i.finished,i.commitStyles(),setTimeout(()=>{this.cancelAnimations(),this.isAnimating=!1},0)}init(t){this.container=t.container,this.initialScreen=t.initialScreen,this.applyDefaultStylesToContainer(),this.screensCache.push(t.initialScreen),this.container.appendChild(this.currentScreen),this.applyDefaultStylesToScreen(this.currentScreen,{zIndex:String(this.screensCache.length)})}async prev(){if(void 0===this.container)throw Error("First need to execute the init method");!this.isAnimating&&this.canGoBack&&(this.cancelAnimations(),this.addPrevScreenToContainer(),await this.animateScreen(this.currentScreen,eQ(100,"%")),this.removeCurrentScreenFromContainer(),this.removeCurrentScreenFromCache(),this.currentScreenIndex-=1)}async next(t){if(void 0===this.container)throw Error("First need to execute the init method");this.isAnimating||(this.cancelAnimations(),this.screensCache.push(t),this.applyDefaultStylesToScreen(t,{zIndex:String(this.screensCache.length),transform:eQ(100,"%")}),this.container.appendChild(t),await this.animateScreen(t,eQ(0),{duration:250}),this.removeCurrentScreenFromContainer(),this.currentScreenIndex+=1,this.setupEventListeners())}onSwipeBack(t){this.swipeBackCallbacks.push(t)}offSwipeBack(t){this.swipeBackCallbacks=this.swipeBackCallbacks.filter(e=>e!==t)}notifySwipeBackListeners(){this.swipeBackCallbacks.forEach(t=>t())}isInDisabledArea(t){let e=this.options?.disabledAreaSelectors?.map(t=>this.currentScreen.querySelector(t));return e?.some(e=>e===t)??!1}handleTouchStart(t){!(null!==t.target&&this.isInDisabledArea(t.target))&&(t.target===this.initialScreen||this.initialScreen?.contains(t.target)||(this.addPrevScreenToContainer(),this.touchStartX=t.touches[0].clientX,this.touchStartY=t.touches[0].clientY,this.isSwipingHorizontally=null,this.isDragging=!0,this.currentScreen.style.transition="none"))}handleTouchMove(t){if(t.target===this.initialScreen||this.initialScreen?.contains(t.target)||!this.isDragging)return;this.touchCurrentX=t.touches[0].clientX,this.touchCurrentY=t.touches[0].clientY;let e=this.touchCurrentX-this.touchStartX,n=this.touchCurrentY-this.touchStartY;if(null===this.isSwipingHorizontally&&(Math.abs(e)>Math.abs(n)?this.isSwipingHorizontally=!0:this.isSwipingHorizontally=!1),!this.isSwipingHorizontally){this.isDragging=!1;return}t.preventDefault(),e>0&&(this.currentScreen.style.transform=`translateX(${e}px)`)}async handleTouchEnd(t){!(null!==t.target&&this.isInDisabledArea(t.target)||t.target===this.initialScreen||this.initialScreen?.contains(t.target))&&this.isDragging&&!0===this.isSwipingHorizontally&&(this.isDragging=!1,this.touchCurrentX-this.touchStartX>window.innerWidth/3?(await this.animateScreen(this.currentScreen,eQ(100,"%")),this.removeCurrentScreenFromContainer(),this.removeCurrentScreenFromCache(),this.currentScreenIndex-=1,this.notifySwipeBackListeners()):(await this.animateScreen(this.currentScreen,eQ(0)),this.isDragging||this.removePrevScreenFromContainer()),this.isSwipingHorizontally=null)}destroy(){this.removeEventListeners(),this.swipeBackCallbacks=[]}}class eV{constructor(t={}){this.options={allowedArea:50,threshold:.3,animationDuration:300,swipeEnabled:!0,allowSwipeNext:!0,allowSwipePrev:!0,...t},this.screenCache=[],this.currentIndex=0,this.isDragging=!1,this.startX=0,this.currentX=0,this.translateX=0,this.contentWidth=0,this.animations=[],this.swipeDirection=null,this.isAnimating=!1}setupContainer(){this.container.style.position="relative",this.container.style.overflow="hidden"}setupScreens(){this.container.innerHTML="";let t=this.screenCache[this.currentIndex].element;this.container.appendChild(t),this.applyDefaultStyles(t,this.currentIndex)}bindEvents(){this.handleTouchStartBound=this.handleTouchStart.bind(this),this.handleTouchMoveBound=this.handleTouchMove.bind(this),this.handleTouchEndBound=this.handleTouchEnd.bind(this),this.container.addEventListener("touchstart",this.handleTouchStartBound,{passive:!0}),this.container.addEventListener("touchmove",this.handleTouchMoveBound,{passive:!1}),this.container.addEventListener("touchend",this.handleTouchEndBound,{passive:!0})}cleanupScreens(){let t=Array.from(this.container.children),e=this.screenCache[this.currentIndex].element;t.forEach(t=>{t!==e&&this.container.removeChild(t)})}init(t,e){if(this.container=t,0===e.length)throw Error("No screens provided");this.initCache(e),this.contentWidth=this.container.offsetWidth,this.setupContainer(),this.setupScreens(),this.bindEvents(),window.addEventListener("resize",()=>{this.contentWidth=this.container.offsetWidth})}initCache(t){this.screenCache=t.map((t,e)=>({element:t}))}handleTouchStart(t){if(!this.options.swipeEnabled||this.isAnimating)return;let e=t.touches[0].clientX,n=this.options.allowedArea,i=this.contentWidth;if(this.screenCache[this.currentIndex],this.currentIndex>0&&e<n&&this.options.allowSwipePrev){this.swipeDirection="prev";let t=this.screenCache[this.currentIndex-1].element;this.container.contains(t)||(this.container.appendChild(t),this.applyDefaultStyles(t,this.currentIndex-1),t.style.transform="translateX(-100%)")}else if(this.currentIndex<this.screenCache.length-1&&e>i-n&&this.options.allowSwipeNext){this.swipeDirection="next";let t=this.screenCache[this.currentIndex+1].element;this.container.contains(t)||(this.container.appendChild(t),this.applyDefaultStyles(t,this.currentIndex+1),t.style.transform="translateX(100%)")}else{this.swipeDirection=null;return}this.isDragging=!0,this.startX=e,this.translateX=0,this.cancelAnimations()}handleTouchMove(t){if(!this.options.swipeEnabled||!this.isDragging||!this.swipeDirection||this.isAnimating)return;this.currentX=t.touches[0].clientX;let e=this.currentX-this.startX;t.preventDefault();let n=e/this.contentWidth*100,i=this.screenCache[this.currentIndex].element;if("next"===this.swipeDirection&&e<0&&this.options.allowSwipeNext){let t=this.screenCache[this.currentIndex+1].element;this.translateX=n,i.style.transform=`translateX(${this.translateX}%)`,t.style.transform=`translateX(${100+this.translateX}%)`}else if("prev"===this.swipeDirection&&e>0&&this.options.allowSwipePrev){let t=this.screenCache[this.currentIndex-1].element;this.translateX=n,i.style.transform=`translateX(${this.translateX}%)`,t.style.transform=`translateX(${-100+this.translateX}%)`}}handleTouchEnd(t){if(!this.options.swipeEnabled||!this.isDragging||!this.swipeDirection||this.isAnimating)return;this.isDragging=!1;let e=this.options.threshold*this.contentWidth;Math.abs(this.translateX/100*this.contentWidth)>e?"next"===this.swipeDirection&&this.options.allowSwipeNext?this.animateToNext():"prev"===this.swipeDirection&&this.options.allowSwipePrev&&this.animateToPrev():this.resetPosition()}animateToNext(){if(this.isAnimating)return;this.isAnimating=!0;let t=this.options.animationDuration,e=this.screenCache[this.currentIndex].element,n=this.screenCache[this.currentIndex+1].element;this.cancelAnimations(),this.container.contains(n)||(this.container.appendChild(n),this.applyDefaultStyles(n,this.currentIndex+1),n.style.transform="translateX(100%)");let i=e.animate([{transform:`translateX(${this.translateX}%)`},{transform:"translateX(-100%)"}],{duration:t,easing:"ease-out",fill:"forwards"}),r=n.animate([{transform:`translateX(${100+this.translateX}%)`},{transform:"translateX(0%)"}],{duration:t,easing:"ease-out",fill:"forwards"});this.animations.push(i,r),i.onfinish=()=>{e.style.transform="translateX(-100%)",this.container.removeChild(e),this.currentIndex+=1,this.cleanupScreens(),this.isAnimating=!1},r.onfinish=()=>{n.style.transform="translateX(0%)",this.cleanupScreens()}}animateToPrev(){if(this.isAnimating)return;this.isAnimating=!0;let t=this.options.animationDuration,e=this.screenCache[this.currentIndex].element,n=this.screenCache[this.currentIndex-1].element;this.cancelAnimations(),this.container.contains(n)||(this.container.appendChild(n),this.applyDefaultStyles(n,this.currentIndex-1),n.style.transform="translateX(-100%)");let i=e.animate([{transform:`translateX(${this.translateX}%)`},{transform:"translateX(100%)"}],{duration:t,easing:"ease-out",fill:"forwards"}),r=n.animate([{transform:`translateX(${-100+this.translateX}%)`},{transform:"translateX(0%)"}],{duration:t,easing:"ease-out",fill:"forwards"});this.animations.push(i,r),i.onfinish=()=>{e.style.transform="translateX(100%)",this.container.removeChild(e),this.currentIndex-=1,this.cleanupScreens(),this.isAnimating=!1},r.onfinish=()=>{n.style.transform="translateX(0%)",this.cleanupScreens()}}resetPosition(){let t;if(this.isAnimating)return;this.isAnimating=!0;let e=this.options.animationDuration/2,n=this.screenCache[this.currentIndex].element;"next"===this.swipeDirection?t=this.screenCache[this.currentIndex+1]:"prev"===this.swipeDirection&&(t=this.screenCache[this.currentIndex-1]),this.cancelAnimations();let i=n.animate([{transform:`translateX(${this.translateX}%)`},{transform:"translateX(0%)"}],{duration:e,easing:"ease-out",fill:"forwards"});if(t){let n=t.element,i="next"===this.swipeDirection?`${100+this.translateX}%`:`${-100+this.translateX}%`,r="next"===this.swipeDirection?"100%":"-100%",o=n.animate([{transform:`translateX(${i})`},{transform:`translateX(${r})`}],{duration:e,easing:"ease-out",fill:"forwards"});this.animations.push(o),o.onfinish=()=>{n.style.transform=`translateX(${r})`,n.remove()}}this.animations.push(i),i.onfinish=()=>{n.style.transform="translateX(0%)",this.cleanupScreens(),this.isAnimating=!1}}applyDefaultStyles(t,e){t.style.position="absolute",t.style.width="100%",t.style.height="100%",t.style.top="0",t.style.left="0",t.style.transform="translateX(0%)"}cancelAnimations(){this.animations.forEach(t=>t.cancel()),this.animations=[]}setSwipeEnabled(t){this.options.swipeEnabled=t}setAllowSwipeNext(t){this.options.allowSwipeNext=t}setAllowSwipePrev(t){this.options.allowSwipePrev=t}destroy(){this.cancelAnimations(),this.container.removeEventListener("touchstart",this.handleTouchStartBound),this.container.removeEventListener("touchmove",this.handleTouchMoveBound),this.container.removeEventListener("touchend",this.handleTouchEndBound)}}class eZ extends eV{init(t,e,n=0){if(n<0||n>=e.length)throw Error(`startIndex ${n} is out of bounds`);this.currentIndex=n,super.init(t,e)}addScreen(t){if(!t.id){console.warn("The added screen does not have an identifier.");return}this.screenCache.some(e=>e.element.id===t.id)||this.screenCache.push({element:t})}goToScreen(t){if(this.isAnimating)return;if(t<0||t>=this.screenCache.length){console.warn("Invalid screen index.");return}if(t===this.currentIndex)return;let e=t>this.currentIndex?"next":"prev";this.swipeDirection=e,this.translateX=0;let n=this.screenCache[this.currentIndex].element,i=this.screenCache[t].element;this.container.contains(i)||(this.container.appendChild(i),this.applyDefaultStyles(i,t),i.style.transform="next"===e?"translateX(100%)":"translateX(-100%)"),this.cancelAnimations(),this.isAnimating=!0;let r=this.options.animationDuration,o=n.animate([{transform:"translateX(0%)"},{transform:"next"===e?"translateX(-100%)":"translateX(100%)"}],{duration:r,easing:"ease-out",fill:"forwards"}),a=i.animate([{transform:"next"===e?"translateX(100%)":"translateX(-100%)"},{transform:"translateX(0%)"}],{duration:r,easing:"ease-out",fill:"forwards"});this.animations.push(o,a),o.onfinish=()=>{n.style.transform="next"===e?"translateX(-100%)":"translateX(100%)",this.container.removeChild(n),this.currentIndex=t,this.cleanupScreens(),this.isAnimating=!1},a.onfinish=()=>{i.style.transform="translateX(0%)",this.cleanupScreens()}}}!function(){var t;eG();let e=document.getElementById("root");if(null===e)throw Error("No root found.");t={router:ez,history:e$,url:eq,appScreenTransition:new eK({disabledAreaSelectors:[`[${eB}]`]}),contentScreenSlider:new eZ({allowedArea:50,threshold:.3,animationDuration:300})},y.set(eU,t),e.append(eX(new eU))}();
//# sourceMappingURL=index.e844b6b3.js.map
