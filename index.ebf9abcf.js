var t,e,n,i,r,o,a=globalThis,s={},l={},c=a.parcelRequiref5f3;null==c&&((c=function(t){if(t in s)return s[t].exports;if(t in l){var e=l[t];delete l[t];var n={id:t,exports:{}};return s[t]=n,e.call(n.exports,n,n.exports),n.exports}var i=Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(t,e){l[t]=e},a.parcelRequiref5f3=c);var h=c.register;function u(t,e){return customElements.define(t,e),e.tagName=t,class{constructor(e){this.htmlElement=document.createElement(t),this.htmlElement.setProps(e)}render(){return this.htmlElement}isComponent(){return!0}}}function d(t){return void 0!==t&&(t instanceof HTMLElement||"string"==typeof t||"isComponent"in t)}function p(t,...e){let n=document.createElement(t),i=e.find(t=>!d(t)),r=e.filter(d);if(i){let t=Object.entries(i).filter(([t])=>!t.startsWith("on")),e=Object.entries(i).filter(([t])=>t.startsWith("on"));!function(t,e){e.forEach(([e,n])=>{if("boolean"==typeof n){t[e]=n;return}"string"==typeof n&&t.setAttribute(e,n)})}(n,t),function(t,e){e.forEach(([e,n])=>{t.addEventListener(e.slice(2),n)})}(n,e),i.setRef?.(n)}return r&&r.forEach(t=>{if("string"!=typeof t&&"isComponent"in t){let e=t.render();Array.isArray(e)?n.append(...e):n.append(e)}else n.append(t)}),n}h("hQZpm",function(t,e){var n=c("Gr8vk");t.exports=n("8aAMZ").then(()=>c("4Vc2z"))}),h("Gr8vk",function(t,e){t.exports=function(t){return import(c("27Lyk").resolve(t))}});const f=(...t)=>p("button",...t),m=(...t)=>p("div",...t),g=(...t)=>p("span",...t),v=new Map;class b extends HTMLElement{connectedCallback(){Array.from(v.entries()).forEach(([t,e])=>{let n=t.tagName,i=document.querySelector(n);null!==i&&(i===this||i.contains(this))&&(this.__context=e)}),this.render(),this.mounted()}disconnectedCallback(){this.unmounted()}mounted(){}unmounted(){}setProps(t){this.props=t}getContext(){return this.__context}render(){let t=this.template();if(Array.isArray(t)){this.replaceChildren(...t);return}this.replaceChildren(t)}}const y=u("app-header",class extends b{mounted(){this.classList.add(this.props.class)}template(){return m()}});th="_fQK7q_appScreenContainer",tu="_fQK7q_content",td="_fQK7q_header",tp="_fQK7q_homeScreen",tf="_fQK7q_menu",tm="_fQK7q_nextScreen";const S=u("feature-component",class extends b{template(){return[m("string 1"),m("string 2")]}});tg="ifIltq_screen";const w=u("screen-1",class extends b{template(){return m(f("Next screen",{onclick:this.props.onNextScreenClick}),m(this.props.greeting),m(this.props.getRandomNumber()),new S,m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),{class:tg})}mounted(){this.id="screen-1",this.props.class&&this.classList.add(this.props.class)}});/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function C(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach(function(e){var i;i=n[e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(){return(D=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function T(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}tv="_8bMRBq_screenContainer";var _=T(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),A=T(/Edge/i),I=T(/firefox/i),X=T(/safari/i)&&!T(/chrome/i)&&!T(/android/i),k=T(/iP(ad|od|hone)/i),N=T(/chrome/i)&&T(/android/i),M={capture:!1,passive:!1};function O(t,e,n){t.addEventListener(e,n,!_&&M)}function P(t,e,n){t.removeEventListener(e,n,!_&&M)}function B(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){}return!1}}function R(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function L(t,e,n,i){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&B(t,e):B(t,e))||i&&t===n)return t;if(t===n)break}while(t=R(t))}return null}var Y=/\s+/g;function F(t,e,n){if(t&&e){if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(Y," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(Y," ")}}}function H(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||-1!==e.indexOf("webkit")||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function W(t,e){var n="";if("string"==typeof t)n=t;else do{var i=H(t,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!e&&(t=t.parentNode))var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function z(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function j(){return document.scrollingElement||document.documentElement}function q(t,e,n,i,r){if(t.getBoundingClientRect||t===window){if(t!==window&&t.parentNode&&t!==j()?(a=(o=t.getBoundingClientRect()).top,s=o.left,l=o.bottom,c=o.right,h=o.height,u=o.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,h=window.innerHeight,u=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!_))do if(r&&r.getBoundingClientRect&&("none"!==H(r,"transform")||n&&"static"!==H(r,"position"))){var o,a,s,l,c,h,u,d=r.getBoundingClientRect();a-=d.top+parseInt(H(r,"border-top-width")),s-=d.left+parseInt(H(r,"border-left-width")),l=a+o.height,c=s+o.width;break}while(r=r.parentNode)if(i&&t!==window){var p=W(r||t),f=p&&p.a,m=p&&p.d;p&&(a/=m,s/=f,u/=f,h/=m,l=a+h,c=s+u)}return{top:a,left:s,bottom:l,right:c,width:u,height:h}}}function $(t,e,n){for(var i=V(t,!0),r=q(t)[e];i;){var o=q(i)[n];if(!("top"===n||"left"===n?r>=o:r<=o))return i;if(i===j())break;i=V(i,!1)}return!1}function G(t,e,n,i){for(var r=0,o=0,a=t.children;o<a.length;){if("none"!==a[o].style.display&&a[o]!==et.ghost&&(i||a[o]!==et.dragged)&&L(a[o],n.draggable,t,!1)){if(r===e)return a[o];r++}o++}return null}function Q(t,e){for(var n=t.lastElementChild;n&&(n===et.ghost||"none"===H(n,"display")||e&&!B(n,e));)n=n.previousElementSibling;return n||null}function K(t,e){var n=0;if(!t||!t.parentNode)return -1;for(;t=t.previousElementSibling;)"TEMPLATE"!==t.nodeName.toUpperCase()&&t!==et.clone&&(!e||B(t,e))&&n++;return n}function U(t){var e=0,n=0,i=j();if(t)do{var r=W(t),o=r.a,a=r.d;e+=t.scrollLeft*o,n+=t.scrollTop*a}while(t!==i&&(t=t.parentNode))return[e,n]}function V(t,e){if(!t||!t.getBoundingClientRect)return j();var n=t,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=H(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return j();if(i||e)return n;i=!0}}while(n=n.parentNode)return j()}function Z(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function J(t,e){return function(){if(!tb){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),tb=setTimeout(function(){tb=void 0},e)}}}function tt(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function te(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function tn(t,e,n){var i={};return Array.from(t.children).forEach(function(r){if(L(r,e.draggable,t,!1)&&!r.animated&&r!==n){var o,a,s,l,c=q(r);i.left=Math.min(null!==(o=i.left)&&void 0!==o?o:1/0,c.left),i.top=Math.min(null!==(a=i.top)&&void 0!==a?a:1/0,c.top),i.right=Math.max(null!==(s=i.right)&&void 0!==s?s:-1/0,c.right),i.bottom=Math.max(null!==(l=i.bottom)&&void 0!==l?l:-1/0,c.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var ti="Sortable"+new Date().getTime(),tr=[],to={initializeByDefault:!0},ta={mount:function(t){for(var e in to)!to.hasOwnProperty(e)||e in t||(t[e]=to[e]);tr.forEach(function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),tr.push(t)},pluginEvent:function(t,e,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=t+"Global";tr.forEach(function(i){e[i.pluginName]&&(e[i.pluginName][r]&&e[i.pluginName][r](E({sortable:e},n)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](E({sortable:e},n)))})},initializePlugins:function(t,e,n,i){for(var r in tr.forEach(function(i){var r=i.pluginName;if(t.options[r]||i.initializeByDefault){var o=new i(t,e,t.options);o.sortable=t,o.options=t.options,t[r]=o,D(n,o.defaults)}}),t.options)if(t.options.hasOwnProperty(r)){var o=this.modifyOption(t,r,t.options[r]);void 0!==o&&(t.options[r]=o)}},getEventProperties:function(t,e){var n={};return tr.forEach(function(i){"function"==typeof i.eventProperties&&D(n,i.eventProperties.call(e[i.pluginName],t))}),n},modifyOption:function(t,e,n){var i;return tr.forEach(function(r){t[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[e]&&(i=r.optionListeners[e].call(t[r.pluginName],n))}),i}},ts=["evt"],tl=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,r=function(t,e){if(null==t)return{};var n,i,r=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}(n,ts);ta.pluginEvent.bind(et)(t,e,E({dragEl:ty,parentEl:tS,ghostEl:tw,rootEl:tC,nextEl:tE,lastDownEl:tx,cloneEl:tD,cloneHidden:tT,dragStarted:tY,putSortable:tN,activeSortable:et.active,originalEvent:i,oldIndex:t_,oldDraggableIndex:tI,newIndex:tA,newDraggableIndex:tX,hideGhostForTarget:t8,unhideGhostForTarget:t4,cloneNowHidden:function(){tT=!0},cloneNowShown:function(){tT=!1},dispatchSortableEvent:function(t){tc({sortable:e,name:t,originalEvent:i})}},r))};function tc(t){!function(t){var e=t.sortable,n=t.rootEl,i=t.name,r=t.targetEl,o=t.cloneEl,a=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,h=t.oldDraggableIndex,u=t.newDraggableIndex,d=t.originalEvent,p=t.putSortable,f=t.extraEventProperties;if(e=e||n&&n[ti]){var m,g=e.options,v="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||_||A?(m=document.createEvent("Event")).initEvent(i,!0,!0):m=new CustomEvent(i,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=r||n,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=h,m.newDraggableIndex=u,m.originalEvent=d,m.pullMode=p?p.lastPutMode:void 0;var b=E(E({},f),ta.getEventProperties(i,e));for(var y in b)m[y]=b[y];n&&n.dispatchEvent(m),g[v]&&g[v].call(e,m)}}(E({putSortable:tN,cloneEl:tD,targetEl:ty,rootEl:tC,oldIndex:t_,oldDraggableIndex:tI,newIndex:tA,newDraggableIndex:tX},t))}var th,tu,td,tp,tf,tm,tg,tv,tb,ty,tS,tw,tC,tE,tx,tD,tT,t_,tA,tI,tX,tk,tN,tM,tO,tP,tB,tR,tL,tY,tF,tH,tW,tz,tj=!1,tq=!1,t$=[],tG=!1,tQ=!1,tK=[],tU=!1,tV=[],tZ="undefined"!=typeof document,tJ=A||_?"cssFloat":"float",t0=tZ&&!N&&!k&&"draggable"in document.createElement("div"),t1=function(){if(tZ){if(_)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),t5=function(t,e){var n=H(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=G(t,0,e),o=G(t,1,e),a=r&&H(r),s=o&&H(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+q(r).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+q(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){var h="left"===a.float?"left":"right";return o&&("both"===s.clear||s.clear===h)?"vertical":"horizontal"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=i&&"none"===n[tJ]||o&&"none"===n[tJ]&&l+c>i)?"vertical":"horizontal"},t2=function(t,e,n){var i=n?t.left:t.top,r=n?t.right:t.bottom,o=n?t.width:t.height,a=n?e.left:e.top,s=n?e.right:e.bottom,l=n?e.width:e.height;return i===a||r===s||i+o/2===a+l/2},t3=function(t,e){var n;return t$.some(function(i){var r=i[ti].options.emptyInsertThreshold;if(!(!r||Q(i))){var o=q(i),a=t>=o.left-r&&t<=o.right+r,s=e>=o.top-r&&e<=o.bottom+r;if(a&&s)return n=i}}),n},t7=function(t){function e(t,n){return function(i,r,o,a){var s=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==t&&(n||s))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(i,r,o,a),n)(i,r,o,a);var l=(n?i:r).options.group.name;return!0===t||"string"==typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var n={},i=t.group;i&&"object"==x(i)||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n},t8=function(){!t1&&tw&&H(tw,"display","none")},t4=function(){!t1&&tw&&H(tw,"display","")};tZ&&!N&&document.addEventListener("click",function(t){if(tq)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),tq=!1,!1},!0);var t6=function(t){if(ty){var e=t3((t=t.touches?t.touches[0]:t).clientX,t.clientY);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[ti]._onDragOver(n)}}},t9=function(t){ty&&ty.parentNode[ti]._isOutsideThisEl(t.target)};function et(t,e){if(!(t&&t.nodeType&&1===t.nodeType))throw"Sortable: `el` must be an HTMLElement, not ".concat(({}).toString.call(t));this.el=t,this.options=e=D({},e),t[ti]=this;var n,i,r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return t5(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==et.supportPointer&&"PointerEvent"in window&&!X,emptyInsertThreshold:5};for(var o in ta.initializePlugins(this,t,r),r)o in e||(e[o]=r[o]);for(var a in t7(e),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!e.forceFallback&&t0,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?O(t,"pointerdown",this._onTapStart):(O(t,"mousedown",this._onTapStart),O(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(O(t,"dragover",this),O(t,"dragenter",this)),t$.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),D(this,(i=[],{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){if("none"!==H(t,"display")&&t!==et.ghost){i.push({target:t,rect:q(t)});var e=E({},i[i.length-1].rect);if(t.thisAnimationDuration){var n=W(t,!0);n&&(e.top-=n.f,e.left-=n.e)}t.fromRect=e}})},addAnimationState:function(t){i.push(t)},removeAnimationState:function(t){i.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n)}return -1}(i,{target:t}),1)},animateAll:function(t){var e=this;if(!this.options.animation){clearTimeout(n),"function"==typeof t&&t();return}var r=!1,o=0;i.forEach(function(t){var n,i=0,a=t.target,s=a.fromRect,l=q(a),c=a.prevFromRect,h=a.prevToRect,u=t.rect,d=W(a,!0);d&&(l.top-=d.f,l.left-=d.e),a.toRect=l,a.thisAnimationDuration&&Z(c,l)&&!Z(s,l)&&(u.top-l.top)/(u.left-l.left)==(s.top-l.top)/(s.left-l.left)&&(n=e.options,i=Math.sqrt(Math.pow(c.top-u.top,2)+Math.pow(c.left-u.left,2))/Math.sqrt(Math.pow(c.top-h.top,2)+Math.pow(c.left-h.left,2))*n.animation),Z(l,s)||(a.prevFromRect=s,a.prevToRect=l,i||(i=e.options.animation),e.animate(a,u,l,i)),i&&(r=!0,o=Math.max(o,i),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},i),a.thisAnimationDuration=i)}),clearTimeout(n),r?n=setTimeout(function(){"function"==typeof t&&t()},o):"function"==typeof t&&t(),i=[]},animate:function(t,e,n,i){if(i){H(t,"transition",""),H(t,"transform","");var r=W(this.el),o=r&&r.a,a=r&&r.d,s=(e.left-n.left)/(o||1),l=(e.top-n.top)/(a||1);t.animatingX=!!s,t.animatingY=!!l,H(t,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=t.offsetWidth,H(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),H(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){H(t,"transition",""),H(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},i)}}}))}function ee(t,e,n,i,r,o,a,s){var l,c,h=t[ti],u=h.options.onMove;return!window.CustomEvent||_||A?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=r||e,l.relatedRect=o||q(e),l.willInsertAfter=s,l.originalEvent=a,t.dispatchEvent(l),u&&(c=u.call(h,l,a)),c}function en(t){t.draggable=!1}function ei(){tU=!1}function er(t){return setTimeout(t,0)}function eo(t){return clearTimeout(t)}et.prototype={constructor:et,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(tF=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,ty):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,i=this.options,r=i.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=i.filter;if(function(t){tV.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&tV.push(i)}}(n),!(ty||/mousedown|pointerdown/.test(o)&&0!==t.button||i.disabled||l.isContentEditable||!this.nativeDraggable&&X&&s&&"SELECT"===s.tagName.toUpperCase()||(s=L(s,i.draggable,n,!1))&&s.animated)&&tx!==s){if(t_=K(s),tI=K(s,i.draggable),"function"==typeof c){if(c.call(this,t,s,this)){tc({sortable:e,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),tl("filter",e,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(i){if(i=L(l,i.trim(),n,!1))return tc({sortable:e,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),tl("filter",e,{evt:t}),!0}))){r&&t.cancelable&&t.preventDefault();return}(!i.handle||L(l,i.handle,n,!1))&&this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,e,n){var i,r=this,o=r.el,a=r.options,s=o.ownerDocument;if(n&&!ty&&n.parentNode===o){var l=q(n);if(tC=o,tS=(ty=n).parentNode,tE=ty.nextSibling,tx=n,tk=a.group,et.dragged=ty,tR=(tM={target:ty,clientX:(e||t).clientX,clientY:(e||t).clientY}).clientX-l.left,tL=tM.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,ty.style["will-change"]="all",i=function(){if(tl("delayEnded",r,{evt:t}),et.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!I&&r.nativeDraggable&&(ty.draggable=!0),r._triggerDragStart(t,e),tc({sortable:r,name:"choose",originalEvent:t}),F(ty,a.chosenClass,!0)},a.ignore.split(",").forEach(function(t){z(ty,t.trim(),en)}),O(s,"dragover",t6),O(s,"mousemove",t6),O(s,"touchmove",t6),O(s,"mouseup",r._onDrop),O(s,"touchend",r._onDrop),O(s,"touchcancel",r._onDrop),I&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ty.draggable=!0),tl("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(A||_))i();else{if(et.eventCanceled){this._onDrop();return}O(s,"mouseup",r._disableDelayedDrag),O(s,"touchend",r._disableDelayedDrag),O(s,"touchcancel",r._disableDelayedDrag),O(s,"mousemove",r._delayedDragTouchMoveHandler),O(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&O(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,a.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ty&&en(ty),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;P(t,"mouseup",this._disableDelayedDrag),P(t,"touchend",this._disableDelayedDrag),P(t,"touchcancel",this._disableDelayedDrag),P(t,"mousemove",this._delayedDragTouchMoveHandler),P(t,"touchmove",this._delayedDragTouchMoveHandler),P(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?O(document,"pointermove",this._onTouchMove):e?O(document,"touchmove",this._onTouchMove):O(document,"mousemove",this._onTouchMove):(O(ty,"dragend",this),O(tC,"dragstart",this._onDragStart));try{document.selection?er(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(tj=!1,tC&&ty){tl("dragStarted",this,{evt:e}),this.nativeDraggable&&O(document,"dragover",t9);var n=this.options;t||F(ty,n.dragClass,!1),F(ty,n.ghostClass,!0),et.active=this,t&&this._appendGhost(),tc({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(tO){this._lastX=tO.clientX,this._lastY=tO.clientY,t8();for(var t=document.elementFromPoint(tO.clientX,tO.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(tO.clientX,tO.clientY))!==e;)e=t;if(ty.parentNode[ti]._isOutsideThisEl(t),e)do{if(e[ti]&&e[ti]._onDragOver({clientX:tO.clientX,clientY:tO.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=R(e))t4()}},_onTouchMove:function(t){if(tM){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,r=t.touches?t.touches[0]:t,o=tw&&W(tw,!0),a=tw&&o&&o.a,s=tw&&o&&o.d,l=k&&tz&&U(tz),c=(r.clientX-tM.clientX+i.x)/(a||1)+(l?l[0]-tK[0]:0)/(a||1),h=(r.clientY-tM.clientY+i.y)/(s||1)+(l?l[1]-tK[1]:0)/(s||1);if(!et.active&&!tj){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(tw){o?(o.e+=c-(tP||0),o.f+=h-(tB||0)):o={a:1,b:0,c:0,d:1,e:c,f:h};var u="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");H(tw,"webkitTransform",u),H(tw,"mozTransform",u),H(tw,"msTransform",u),H(tw,"transform",u),tP=c,tB=h,tO=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!tw){var t=this.options.fallbackOnBody?document.body:tC,e=q(ty,!0,k,!0,t),n=this.options;if(k){for(tz=t;"static"===H(tz,"position")&&"none"===H(tz,"transform")&&tz!==document;)tz=tz.parentNode;tz!==document.body&&tz!==document.documentElement?(tz===document&&(tz=j()),e.top+=tz.scrollTop,e.left+=tz.scrollLeft):tz=j(),tK=U(tz)}F(tw=ty.cloneNode(!0),n.ghostClass,!1),F(tw,n.fallbackClass,!0),F(tw,n.dragClass,!0),H(tw,"transition",""),H(tw,"transform",""),H(tw,"box-sizing","border-box"),H(tw,"margin",0),H(tw,"top",e.top),H(tw,"left",e.left),H(tw,"width",e.width),H(tw,"height",e.height),H(tw,"opacity","0.8"),H(tw,"position",k?"absolute":"fixed"),H(tw,"zIndex","100000"),H(tw,"pointerEvents","none"),et.ghost=tw,t.appendChild(tw),H(tw,"transform-origin",tR/parseInt(tw.style.width)*100+"% "+tL/parseInt(tw.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,r=n.options;if(tl("dragStart",this,{evt:t}),et.eventCanceled){this._onDrop();return}tl("setupClone",this),et.eventCanceled||((tD=te(ty)).removeAttribute("id"),tD.draggable=!1,tD.style["will-change"]="",this._hideClone(),F(tD,this.options.chosenClass,!1),et.clone=tD),n.cloneId=er(function(){tl("clone",n),et.eventCanceled||(n.options.removeCloneOnHide||tC.insertBefore(tD,ty),n._hideClone(),tc({sortable:n,name:"clone"}))}),e||F(ty,r.dragClass,!0),e?(tq=!0,n._loopId=setInterval(n._emulateDragOver,50)):(P(document,"mouseup",n._onDrop),P(document,"touchend",n._onDrop),P(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,ty)),O(document,"drop",n),H(ty,"transform","translateZ(0)")),tj=!0,n._dragStartId=er(n._dragStarted.bind(n,e,t)),O(document,"selectstart",n),tY=!0,X&&H(document.body,"user-select","none")},_onDragOver:function(t){var e,n,i,r,o=this.el,a=t.target,s=this.options,l=s.group,c=et.active,h=tk===l,u=s.sort,d=tN||c,p=this,f=!1;if(!tU){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=L(a,s.draggable,o,!0),B("dragOver"),et.eventCanceled)return f;if(ty.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return Y(!1);if(tq=!1,c&&!s.disabled&&(h?u||(i=tS!==tC):tN===this||(this.lastPutMode=tk.checkPull(this,c,ty,t))&&l.checkPut(this,c,ty,t))){if(r="vertical"===this._getDirection(t,a),e=q(ty),B("dragOverValid"),et.eventCanceled)return f;if(i)return tS=tC,R(),this._hideClone(),B("revert"),et.eventCanceled||(tE?tC.insertBefore(ty,tE):tC.appendChild(ty)),Y(!0);var m=Q(o,s.draggable);if(!m||(v=r,b=q(Q(this.el,this.options.draggable)),y=tn(this.el,this.options,tw),(v?t.clientX>y.right+10||t.clientY>b.bottom&&t.clientX>b.left:t.clientY>y.bottom+10||t.clientX>b.right&&t.clientY>b.top)&&!m.animated)){if(m===ty)return Y(!1);if(m&&o===t.target&&(a=m),a&&(n=q(a)),!1!==ee(tC,o,ty,e,a,n,t,!!a))return R(),m&&m.nextSibling?o.insertBefore(ty,m.nextSibling):o.appendChild(ty),tS=o,W(),Y(!0)}else if(m&&(S=r,w=q(G(this.el,0,this.options,!0)),C=tn(this.el,this.options,tw),S?t.clientX<C.left-10||t.clientY<w.top&&t.clientX<w.right:t.clientY<C.top-10||t.clientY<w.bottom&&t.clientX<w.left)){var g=G(o,0,s,!0);if(g===ty)return Y(!1);if(n=q(a=g),!1!==ee(tC,o,ty,e,a,n,t,!1))return R(),o.insertBefore(ty,g),tS=o,W(),Y(!0)}else if(a.parentNode===o){n=q(a);var v,b,y,S,w,C,x,D,T=0,_=ty.parentNode!==o,A=!t2(ty.animated&&ty.toRect||e,a.animated&&a.toRect||n,r),I=r?"top":"left",X=$(a,"top","top")||$(ty,"top","top"),k=X?X.scrollTop:void 0;if(tF!==a&&(D=n[I],tG=!1,tQ=!A&&s.invertSwap||_),0!==(T=function(t,e,n,i,r,o,a,s){var l=i?t.clientY:t.clientX,c=i?n.height:n.width,h=i?n.top:n.left,u=i?n.bottom:n.right,d=!1;if(!a){if(s&&tW<c*r){if(!tG&&(1===tH?l>h+c*o/2:l<u-c*o/2)&&(tG=!0),tG)d=!0;else if(1===tH?l<h+tW:l>u-tW)return-tH}else if(l>h+c*(1-r)/2&&l<u-c*(1-r)/2)return K(ty)<K(e)?1:-1}return(d=d||a)&&(l<h+c*o/2||l>u-c*o/2)?l>h+c/2?1:-1:0}(t,a,n,r,A?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,tQ,tF===a))){var N=K(ty);do N-=T,x=tS.children[N];while(x&&("none"===H(x,"display")||x===tw))}if(0===T||x===a)return Y(!1);tF=a,tH=T;var M=a.nextElementSibling,O=!1,P=ee(tC,o,ty,e,a,n,t,O=1===T);if(!1!==P)return(1===P||-1===P)&&(O=1===P),tU=!0,setTimeout(ei,30),R(),O&&!M?o.appendChild(ty):a.parentNode.insertBefore(ty,O?M:a),X&&tt(X,0,k-X.scrollTop),tS=ty.parentNode,void 0===D||tQ||(tW=Math.abs(D-q(a)[I])),W(),Y(!0)}if(o.contains(ty))return Y(!1)}return!1}function B(s,l){tl(s,p,E({evt:t,isOwner:h,axis:r?"vertical":"horizontal",revert:i,dragRect:e,targetRect:n,canSort:u,fromSortable:d,target:a,completed:Y,onMove:function(n,i){return ee(tC,o,ty,e,n,q(n),t,i)},changed:W},l))}function R(){B("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function Y(e){return B("dragOverCompleted",{insertion:e}),e&&(h?c._hideClone():c._showClone(p),p!==d&&(F(ty,tN?tN.options.ghostClass:c.options.ghostClass,!1),F(ty,s.ghostClass,!0)),tN!==p&&p!==et.active?tN=p:p===et.active&&tN&&(tN=null),d===p&&(p._ignoreWhileAnimating=a),p.animateAll(function(){B("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(a!==ty||ty.animated)&&(a!==o||a.animated)||(tF=null),s.dragoverBubble||t.rootEl||a===document||(ty.parentNode[ti]._isOutsideThisEl(t.target),e||t6(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),f=!0}function W(){tA=K(ty),tX=K(ty,s.draggable),tc({sortable:p,name:"change",toEl:o,newIndex:tA,newDraggableIndex:tX,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){P(document,"mousemove",this._onTouchMove),P(document,"touchmove",this._onTouchMove),P(document,"pointermove",this._onTouchMove),P(document,"dragover",t6),P(document,"mousemove",t6),P(document,"touchmove",t6)},_offUpEvents:function(){var t=this.el.ownerDocument;P(t,"mouseup",this._onDrop),P(t,"touchend",this._onDrop),P(t,"pointerup",this._onDrop),P(t,"touchcancel",this._onDrop),P(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;if(tA=K(ty),tX=K(ty,n.draggable),tl("drop",this,{evt:t}),tS=ty&&ty.parentNode,tA=K(ty),tX=K(ty,n.draggable),et.eventCanceled){this._nulling();return}tj=!1,tQ=!1,tG=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),eo(this.cloneId),eo(this._dragStartId),this.nativeDraggable&&(P(document,"drop",this),P(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),X&&H(document.body,"user-select",""),H(ty,"transform",""),t&&(tY&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),tw&&tw.parentNode&&tw.parentNode.removeChild(tw),(tC===tS||tN&&"clone"!==tN.lastPutMode)&&tD&&tD.parentNode&&tD.parentNode.removeChild(tD),ty&&(this.nativeDraggable&&P(ty,"dragend",this),en(ty),ty.style["will-change"]="",tY&&!tj&&F(ty,tN?tN.options.ghostClass:this.options.ghostClass,!1),F(ty,this.options.chosenClass,!1),tc({sortable:this,name:"unchoose",toEl:tS,newIndex:null,newDraggableIndex:null,originalEvent:t}),tC!==tS?(tA>=0&&(tc({rootEl:tS,name:"add",toEl:tS,fromEl:tC,originalEvent:t}),tc({sortable:this,name:"remove",toEl:tS,originalEvent:t}),tc({rootEl:tS,name:"sort",toEl:tS,fromEl:tC,originalEvent:t}),tc({sortable:this,name:"sort",toEl:tS,originalEvent:t})),tN&&tN.save()):tA!==t_&&tA>=0&&(tc({sortable:this,name:"update",toEl:tS,originalEvent:t}),tc({sortable:this,name:"sort",toEl:tS,originalEvent:t})),et.active&&((null==tA||-1===tA)&&(tA=t_,tX=tI),tc({sortable:this,name:"end",toEl:tS,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){tl("nulling",this),tC=ty=tS=tw=tE=tD=tx=tT=tM=tO=tY=tA=tX=t_=tI=tF=tH=tN=tk=et.dragged=et.ghost=et.clone=et.active=null,tV.forEach(function(t){t.checked=!0}),tV.length=tP=tB=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":ty&&(this._onDragOver(t),t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault());break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)L(t=n[i],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||function(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}(t));return e},sort:function(t,e){var n={},i=this.el;this.toArray().forEach(function(t,e){var r=i.children[e];L(r,this.options.draggable,i,!1)&&(n[t]=r)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(i.removeChild(n[t]),i.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return L(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var i=ta.modifyOption(this,t,e);void 0!==i?n[t]=i:n[t]=e,"group"===t&&t7(n)},destroy:function(){tl("destroy",this);var t=this.el;t[ti]=null,P(t,"mousedown",this._onTapStart),P(t,"touchstart",this._onTapStart),P(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(P(t,"dragover",this),P(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),t$.splice(t$.indexOf(this.el),1),this.el=null},_hideClone:function(){tT||(tl("hideClone",this),et.eventCanceled||(H(tD,"display","none"),this.options.removeCloneOnHide&&tD.parentNode&&tD.parentNode.removeChild(tD),tT=!0))},_showClone:function(t){if("clone"!==t.lastPutMode){this._hideClone();return}if(tT){if(tl("showClone",this),et.eventCanceled)return;ty.parentNode!=tC||this.options.group.revertClone?tE?tC.insertBefore(tD,tE):tC.appendChild(tD):tC.insertBefore(tD,ty),this.options.group.revertClone&&this.animate(ty,tD),H(tD,"display",""),tT=!1}}},tZ&&O(document,"touchmove",function(t){(et.active||tj)&&t.cancelable&&t.preventDefault()}),et.utils={on:O,off:P,css:H,find:z,is:function(t,e){return!!L(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:J,closest:L,toggleClass:F,clone:te,index:K,nextTick:er,cancelNextTick:eo,detectDirection:t5,getChild:G,expando:ti},et.get=function(t){return t[ti]},et.mount=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat(({}).toString.call(t));t.utils&&(et.utils=E(E({},et.utils),t.utils)),ta.mount(t)})},et.create=function(t,e){return new et(t,e)},et.version="1.15.3";var ea,es,el,ec,eh,eu,ed=[],ep=!1;function ef(){ed.forEach(function(t){clearInterval(t.pid)}),ed=[]}function em(){clearInterval(eu)}var eg=J(function(t,e,n,i){if(e.scroll){var r,o=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,c=j(),h=!1;es!==n&&(es=n,ef(),ea=e.scroll,r=e.scrollFn,!0===ea&&(ea=V(n,!0)));var u=0,d=ea;do{var p=d,f=q(p),m=f.top,g=f.bottom,v=f.left,b=f.right,y=f.width,S=f.height,w=void 0,C=void 0,E=p.scrollWidth,x=p.scrollHeight,D=H(p),T=p.scrollLeft,_=p.scrollTop;p===c?(w=y<E&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),C=S<x&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(w=y<E&&("auto"===D.overflowX||"scroll"===D.overflowX),C=S<x&&("auto"===D.overflowY||"scroll"===D.overflowY));var A=w&&(Math.abs(b-o)<=s&&T+y<E)-(Math.abs(v-o)<=s&&!!T),I=C&&(Math.abs(g-a)<=s&&_+S<x)-(Math.abs(m-a)<=s&&!!_);if(!ed[u])for(var X=0;X<=u;X++)ed[X]||(ed[X]={});(ed[u].vx!=A||ed[u].vy!=I||ed[u].el!==p)&&(ed[u].el=p,ed[u].vx=A,ed[u].vy=I,clearInterval(ed[u].pid),(0!=A||0!=I)&&(h=!0,ed[u].pid=setInterval((function(){i&&0===this.layer&&et.active._onTouchMove(eh);var e=ed[this.layer].vy?ed[this.layer].vy*l:0,n=ed[this.layer].vx?ed[this.layer].vx*l:0;("function"!=typeof r||"continue"===r.call(et.dragged.parentNode[ti],n,e,t,eh,ed[this.layer].el))&&tt(ed[this.layer].el,n,e)}).bind({layer:u}),24))),u++}while(e.bubbleScroll&&d!==c&&(d=V(d,!1)))ep=h}},30),ev=function(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,r=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var l=n||r;a();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,h=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(h)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function eb(){}function ey(){}eb.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=G(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:ev},D(eb,{pluginName:"revertOnSpill"}),ey.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:ev},D(ey,{pluginName:"removeOnSpill"}),et.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?O(document,"dragover",this._handleAutoScroll):this.options.supportPointer?O(document,"pointermove",this._handleFallbackAutoScroll):e.touches?O(document,"touchmove",this._handleFallbackAutoScroll):O(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):(P(document,"pointermove",this._handleFallbackAutoScroll),P(document,"touchmove",this._handleFallbackAutoScroll),P(document,"mousemove",this._handleFallbackAutoScroll)),em(),ef(),clearTimeout(tb),tb=void 0},nulling:function(){eh=es=ea=ep=eu=el=ec=null,ed.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(i,r);if(eh=t,e||this.options.forceAutoScrollFallback||A||_||X){eg(t,this.options,o,e);var a=V(o,!0);ep&&(!eu||i!==el||r!==ec)&&(eu&&em(),eu=setInterval(function(){var o=V(document.elementFromPoint(i,r),!0);o!==a&&(a=o,ef()),eg(t,n.options,o,e)},10),el=i,ec=r)}else{if(!this.options.bubbleScroll||V(o,!0)===j()){ef();return}eg(t,this.options,V(o,!1),!1)}}},D(t,{pluginName:"scroll",initializeByDefault:!0})}),et.mount(ey,eb),e="lnb21q_gridContainer",n="lnb21q_screen",i="lnb21q_tile",r="lnb21q_tileGhost";const eS=u("screen-2",class extends b{setTilesContainer(t){this.tilesContainer=t}unmounted(){void 0!==this.sortableInstance&&this.sortableInstance.destroy()}template(){return m(m(m(g("1"),{class:i}),m(g("2"),{class:i}),m(g("3"),{class:i}),m(g("4"),{class:i}),m(g("5"),{class:i}),m(g("6"),{class:i}),m(g("7"),{class:i}),m(g("8"),{class:i}),m(g("9"),{class:i}),m(g("10"),{class:i}),m(g("11"),{class:i}),m(g("12"),{class:i}),m(g("13"),{class:i}),m(g("14"),{class:i}),m(g("15"),{class:i}),m(g("16"),{class:i}),m(g("17"),{class:i}),m(g("18"),{class:i}),{class:e,setRef:t=>{this.setTilesContainer(t)}}),{class:n})}mounted(){this.id="screen-2",void 0!==this.props.class&&this.classList.add(this.props.class),void 0!==this.tilesContainer&&(this.sortableInstance=new et(this.tilesContainer,{ghostClass:r,animation:200,delayOnTouchOnly:!0,delay:150,scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0,onChoose:()=>{this.props?.screenSlider.setSwipeEnabled(!1)},onStart:()=>{this.props?.screenSlider.setSwipeEnabled(!1)},onEnd:()=>{this.props?.screenSlider.setSwipeEnabled(!0)}}))}});function ew(t){return void 0!==t.isComponent}function eC(t){if(Array.isArray(t))return t.map(t=>ew(t)?t.render():t);if(!ew(t))throw Error("Render argument must be component or array");return t.render()}class eE{isComponent(){return!0}render(){return m("Экран 3")}}const ex=u("app-content",class extends b{get context(){return this.getContext()}mounted(){let t=this.props;this.classList.add(t.class);let e=eC([new w({getRandomNumber:t.getRandomNumber,greeting:t.greeting,onNextScreenClick:t.onNextScreenClick}),new eS({screenSlider:this.context.contentScreenSlider}),new eE]);this.context.contentScreenSlider.init("#content-screen-container",e)}template(){return m({id:"content-screen-container",class:tv})}}),eD=u("app-menu",class extends b{mounted(){this.classList.add(this.props.class)}template(){return eC([f("1",{onclick:this.props.onFirstScreenButtonClick}),f("2",{onclick:this.props.onSecondScreenButtonClick}),f("3",{onclick:this.props.onThirdScreenButtonClick}),f("4")])}}),eT="data-screen-transition-disabled";class e_{getRandomNumber(){return String(Math.random())}}class eA extends b{get context(){return this.getContext()}onFirstScreenButtonClick(){this.context.contentScreenSlider.goToScreen(0)}onSecondScreenButtonClick(){this.context.contentScreenSlider.goToScreen(1)}onThirdScreenButtonClick(){this.context.contentScreenSlider.goToScreen(2)}onNextScreenButtonClick(){this.context.appScreenTransition.next(m(m("Следующий экран"),f("Назад",{[eT]:"",onclick:()=>{this.context.appScreenTransition.prev()}}),m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),m({style:"height: 5rem; background-color: white"}),m({style:"height: 5rem; background-color: gray"}),{class:tm,id:"next-screen"}))}mounted(){let t=m(new y({class:td}),new ex({greeting:"hello world",getRandomNumber:new e_().getRandomNumber,class:tu,onNextScreenClick:()=>{this.onNextScreenButtonClick()}}),new eD({class:tf,onFirstScreenButtonClick:()=>{this.onFirstScreenButtonClick()},onSecondScreenButtonClick:()=>{this.onSecondScreenButtonClick()},onThirdScreenButtonClick:()=>{this.onThirdScreenButtonClick()}}),{class:tp});void 0!==this.appScreenContainer&&this.context.appScreenTransition.init({container:this.appScreenContainer,initialScreen:t})}unmounted(){this.context.appScreenTransition.destroy(),this.context.contentScreenSlider.destroy()}template(){return m({id:"app-screen-container",class:th,setRef:t=>{this.appScreenContainer=t}})}}const eI=u("app-root",eA);async function eX(){if(!("serviceWorker"in navigator))return;let{Workbox:t}=await c("hQZpm");new t("./service-worker.js").register()}function ek(t,e=""){return`translate(${t}${e})`}(t=o||(o={})).Percent="%",t.Px="px";class eN{constructor(t){this.touchStartY=0,this.touchCurrentY=0,this.isSwipingHorizontally=null,this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.touchStartX=0,this.touchCurrentX=0,this.currentScreenIndex=0,this.isDragging=!1,this.isAnimating=!1,this.screensCache=[],this.animations=[],this.options={disabledAreaSelectors:[],...t}}get prevScreen(){return this.screensCache[this.currentScreenIndex-1]}get currentScreen(){return this.screensCache[this.currentScreenIndex]}get canGoBack(){return this.currentScreen!==this.initialScreen}setupEventListeners(){if(void 0===this.container)throw Error("First need to execute the init method");this.container.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),this.container.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.container.addEventListener("touchend",this.handleTouchEnd,{passive:!1})}removeEventListeners(){if(void 0===this.container)throw Error("No container element founs");this.container.removeEventListener("touchstart",this.handleTouchStart),this.container.removeEventListener("touchmove",this.handleTouchMove),this.container.removeEventListener("touchend",this.handleTouchEnd)}applyDefaultStylesToScreen(t,e){let n={zIndex:"0",transform:ek(0),...e};t.style.position="absolute",t.style.height="100%",t.style.width="100%",t.style.top="0",t.style.left="0",t.style.transform=n.transform,t.style.zIndex=n.zIndex}applyDefaultStylesToContainer(){if(void 0===this.container)throw Error("No container found");this.container.style.position="relative",this.container.style.overflow="hidden",this.container.style.width="100%",this.container.style.height="100%"}cancelAnimations(){this.animations.forEach(t=>t.cancel()),this.animations=[]}addPrevScreenToContainer(){this.currentScreen.before(this.prevScreen)}removePrevScreenFromContainer(){this.prevScreen.remove()}removeCurrentScreenFromContainer(){this.currentScreen.remove()}removeCurrentScreenFromCache(){this.screensCache=this.screensCache.filter(t=>t!==this.currentScreen)}async animateScreen(t,e,n){this.isAnimating=!0;let i=t.animate([{transform:e}],{duration:n?.duration??150,easing:"cubic-bezier(0, 0, 0.7, 1)",fill:"forwards"});this.animations.push(i),await i.finished,i.commitStyles(),setTimeout(()=>{this.cancelAnimations(),this.isAnimating=!1},0)}init(t){this.container=t.container,this.initialScreen=t.initialScreen,this.applyDefaultStylesToContainer(),this.screensCache.push(t.initialScreen),this.container.appendChild(this.currentScreen),this.applyDefaultStylesToScreen(this.currentScreen,{zIndex:String(this.screensCache.length)})}async prev(){if(void 0===this.container)throw Error("First need to execute the init method");!this.isAnimating&&this.canGoBack&&(this.cancelAnimations(),this.addPrevScreenToContainer(),await this.animateScreen(this.currentScreen,ek(100,"%")),this.removeCurrentScreenFromContainer(),this.removeCurrentScreenFromCache(),this.currentScreenIndex-=1)}async next(t){if(void 0===this.container)throw Error("First need to execute the init method");this.isAnimating||(this.cancelAnimations(),this.screensCache.push(t),this.applyDefaultStylesToScreen(t,{zIndex:String(this.screensCache.length),transform:ek(100,"%")}),this.container.appendChild(t),await this.animateScreen(t,ek(0),{duration:250}),this.removeCurrentScreenFromContainer(),this.currentScreenIndex+=1,this.setupEventListeners())}isInDisabledArea(t){let e=this.options?.disabledAreaSelectors?.map(t=>this.currentScreen.querySelector(t));return e?.some(e=>e===t)??!1}handleTouchStart(t){!(null!==t.target&&this.isInDisabledArea(t.target))&&(t.target===this.initialScreen||this.initialScreen?.contains(t.target)||(this.addPrevScreenToContainer(),this.touchStartX=t.touches[0].clientX,this.touchStartY=t.touches[0].clientY,this.isSwipingHorizontally=null,this.isDragging=!0,this.currentScreen.style.transition="none"))}handleTouchMove(t){if(t.target===this.initialScreen||this.initialScreen?.contains(t.target)||!this.isDragging)return;this.touchCurrentX=t.touches[0].clientX,this.touchCurrentY=t.touches[0].clientY;let e=this.touchCurrentX-this.touchStartX,n=this.touchCurrentY-this.touchStartY;if(null===this.isSwipingHorizontally&&(Math.abs(e)>Math.abs(n)?this.isSwipingHorizontally=!0:this.isSwipingHorizontally=!1),!this.isSwipingHorizontally){this.isDragging=!1;return}t.preventDefault(),e>0&&(this.currentScreen.style.transform=`translateX(${e}px)`)}async handleTouchEnd(t){!(null!==t.target&&this.isInDisabledArea(t.target)||t.target===this.initialScreen||this.initialScreen?.contains(t.target))&&this.isDragging&&!0===this.isSwipingHorizontally&&(this.isDragging=!1,this.touchCurrentX-this.touchStartX>window.innerWidth/3?(await this.animateScreen(this.currentScreen,ek(100,"%")),this.removeCurrentScreenFromContainer(),this.removeCurrentScreenFromCache(),this.currentScreenIndex-=1):(await this.animateScreen(this.currentScreen,ek(0)),this.isDragging||this.removePrevScreenFromContainer()),this.isSwipingHorizontally=null)}destroy(){this.removeEventListeners()}}class eM{constructor(t={}){this.options={allowedArea:50,threshold:.3,animationDuration:300,swipeEnabled:!0,allowSwipeNext:!0,allowSwipePrev:!0,...t},this.screenCache=[],this.currentIndex=0,this.isDragging=!1,this.startX=0,this.currentX=0,this.translateX=0,this.contentWidth=0,this.animations=[],this.swipeDirection=null,this.isAnimating=!1}setupContainer(){this.container.style.position="relative",this.container.style.overflow="hidden"}setupScreens(){this.container.innerHTML="";let t=this.screenCache[this.currentIndex].element;this.container.appendChild(t),this.applyDefaultStyles(t,this.currentIndex)}bindEvents(){this.handleTouchStartBound=this.handleTouchStart.bind(this),this.handleTouchMoveBound=this.handleTouchMove.bind(this),this.handleTouchEndBound=this.handleTouchEnd.bind(this),this.container.addEventListener("touchstart",this.handleTouchStartBound,{passive:!0}),this.container.addEventListener("touchmove",this.handleTouchMoveBound,{passive:!1}),this.container.addEventListener("touchend",this.handleTouchEndBound,{passive:!0})}cleanupScreens(){let t=Array.from(this.container.children),e=this.screenCache[this.currentIndex].element;t.forEach(t=>{t!==e&&this.container.removeChild(t)})}init(t,e){let n=document.querySelector(t);if(!n)throw Error("Container element not found");if(this.container=n,0===e.length)throw Error("No screens provided");this.initCache(e),this.contentWidth=this.container.offsetWidth,this.setupContainer(),this.setupScreens(),this.bindEvents(),window.addEventListener("resize",()=>{this.contentWidth=this.container.offsetWidth})}initCache(t){this.screenCache=t.map((t,e)=>({element:t}))}handleTouchStart(t){if(!this.options.swipeEnabled||this.isAnimating)return;let e=t.touches[0].clientX,n=this.options.allowedArea,i=this.contentWidth;if(this.screenCache[this.currentIndex],this.currentIndex>0&&e<n&&this.options.allowSwipePrev){this.swipeDirection="prev";let t=this.screenCache[this.currentIndex-1].element;this.container.contains(t)||(this.container.appendChild(t),this.applyDefaultStyles(t,this.currentIndex-1),t.style.transform="translateX(-100%)")}else if(this.currentIndex<this.screenCache.length-1&&e>i-n&&this.options.allowSwipeNext){this.swipeDirection="next";let t=this.screenCache[this.currentIndex+1].element;this.container.contains(t)||(this.container.appendChild(t),this.applyDefaultStyles(t,this.currentIndex+1),t.style.transform="translateX(100%)")}else{this.swipeDirection=null;return}this.isDragging=!0,this.startX=e,this.translateX=0,this.cancelAnimations()}handleTouchMove(t){if(!this.options.swipeEnabled||!this.isDragging||!this.swipeDirection||this.isAnimating)return;this.currentX=t.touches[0].clientX;let e=this.currentX-this.startX;t.preventDefault();let n=e/this.contentWidth*100,i=this.screenCache[this.currentIndex].element;if("next"===this.swipeDirection&&e<0&&this.options.allowSwipeNext){let t=this.screenCache[this.currentIndex+1].element;this.translateX=n,i.style.transform=`translateX(${this.translateX}%)`,t.style.transform=`translateX(${100+this.translateX}%)`}else if("prev"===this.swipeDirection&&e>0&&this.options.allowSwipePrev){let t=this.screenCache[this.currentIndex-1].element;this.translateX=n,i.style.transform=`translateX(${this.translateX}%)`,t.style.transform=`translateX(${-100+this.translateX}%)`}}handleTouchEnd(t){if(!this.options.swipeEnabled||!this.isDragging||!this.swipeDirection||this.isAnimating)return;this.isDragging=!1;let e=this.options.threshold*this.contentWidth;Math.abs(this.translateX/100*this.contentWidth)>e?"next"===this.swipeDirection&&this.options.allowSwipeNext?this.animateToNext():"prev"===this.swipeDirection&&this.options.allowSwipePrev&&this.animateToPrev():this.resetPosition()}animateToNext(){if(this.isAnimating)return;this.isAnimating=!0;let t=this.options.animationDuration,e=this.screenCache[this.currentIndex].element,n=this.screenCache[this.currentIndex+1].element;this.cancelAnimations(),this.container.contains(n)||(this.container.appendChild(n),this.applyDefaultStyles(n,this.currentIndex+1),n.style.transform="translateX(100%)");let i=e.animate([{transform:`translateX(${this.translateX}%)`},{transform:"translateX(-100%)"}],{duration:t,easing:"ease-out",fill:"forwards"}),r=n.animate([{transform:`translateX(${100+this.translateX}%)`},{transform:"translateX(0%)"}],{duration:t,easing:"ease-out",fill:"forwards"});this.animations.push(i,r),i.onfinish=()=>{e.style.transform="translateX(-100%)",this.container.removeChild(e),this.currentIndex+=1,this.cleanupScreens(),this.isAnimating=!1},r.onfinish=()=>{n.style.transform="translateX(0%)",this.cleanupScreens()}}animateToPrev(){if(this.isAnimating)return;this.isAnimating=!0;let t=this.options.animationDuration,e=this.screenCache[this.currentIndex].element,n=this.screenCache[this.currentIndex-1].element;this.cancelAnimations(),this.container.contains(n)||(this.container.appendChild(n),this.applyDefaultStyles(n,this.currentIndex-1),n.style.transform="translateX(-100%)");let i=e.animate([{transform:`translateX(${this.translateX}%)`},{transform:"translateX(100%)"}],{duration:t,easing:"ease-out",fill:"forwards"}),r=n.animate([{transform:`translateX(${-100+this.translateX}%)`},{transform:"translateX(0%)"}],{duration:t,easing:"ease-out",fill:"forwards"});this.animations.push(i,r),i.onfinish=()=>{e.style.transform="translateX(100%)",this.container.removeChild(e),this.currentIndex-=1,this.cleanupScreens(),this.isAnimating=!1},r.onfinish=()=>{n.style.transform="translateX(0%)",this.cleanupScreens()}}resetPosition(){let t;if(this.isAnimating)return;this.isAnimating=!0;let e=this.options.animationDuration/2,n=this.screenCache[this.currentIndex].element;"next"===this.swipeDirection?t=this.screenCache[this.currentIndex+1]:"prev"===this.swipeDirection&&(t=this.screenCache[this.currentIndex-1]),this.cancelAnimations();let i=n.animate([{transform:`translateX(${this.translateX}%)`},{transform:"translateX(0%)"}],{duration:e,easing:"ease-out",fill:"forwards"});if(t){let n=t.element,i="next"===this.swipeDirection?`${100+this.translateX}%`:`${-100+this.translateX}%`,r="next"===this.swipeDirection?"100%":"-100%",o=n.animate([{transform:`translateX(${i})`},{transform:`translateX(${r})`}],{duration:e,easing:"ease-out",fill:"forwards"});this.animations.push(o),o.onfinish=()=>{n.style.transform=`translateX(${r})`,n.remove()}}this.animations.push(i),i.onfinish=()=>{n.style.transform="translateX(0%)",this.cleanupScreens(),this.isAnimating=!1}}applyDefaultStyles(t,e){t.style.position="absolute",t.style.width="100%",t.style.height="100%",t.style.top="0",t.style.left="0",t.style.transform="translateX(0%)"}cancelAnimations(){this.animations.forEach(t=>t.cancel()),this.animations=[]}setSwipeEnabled(t){this.options.swipeEnabled=t}setAllowSwipeNext(t){this.options.allowSwipeNext=t}setAllowSwipePrev(t){this.options.allowSwipePrev=t}destroy(){this.cancelAnimations(),this.container.removeEventListener("touchstart",this.handleTouchStartBound),this.container.removeEventListener("touchmove",this.handleTouchMoveBound),this.container.removeEventListener("touchend",this.handleTouchEndBound)}}class eO extends eM{init(t,e,n=0){if(n<0||n>=e.length)throw Error(`startIndex ${n} is out of bounds`);this.currentIndex=n,super.init(t,e)}addScreen(t){if(!t.id){console.warn("The added screen does not have an identifier.");return}this.screenCache.some(e=>e.element.id===t.id)||this.screenCache.push({element:t})}goToScreen(t){if(this.isAnimating)return;if(t<0||t>=this.screenCache.length){console.warn("Invalid screen index.");return}if(t===this.currentIndex)return;let e=t>this.currentIndex?"next":"prev";this.swipeDirection=e,this.translateX=0;let n=this.screenCache[this.currentIndex].element,i=this.screenCache[t].element;this.container.contains(i)||(this.container.appendChild(i),this.applyDefaultStyles(i,t),i.style.transform="next"===e?"translateX(100%)":"translateX(-100%)"),this.cancelAnimations(),this.isAnimating=!0;let r=this.options.animationDuration,o=n.animate([{transform:"translateX(0%)"},{transform:"next"===e?"translateX(-100%)":"translateX(100%)"}],{duration:r,easing:"ease-out",fill:"forwards"}),a=i.animate([{transform:"next"===e?"translateX(100%)":"translateX(-100%)"},{transform:"translateX(0%)"}],{duration:r,easing:"ease-out",fill:"forwards"});this.animations.push(o,a),o.onfinish=()=>{n.style.transform="next"===e?"translateX(-100%)":"translateX(100%)",this.container.removeChild(n),this.currentIndex=t,this.cleanupScreens(),this.isAnimating=!1},a.onfinish=()=>{i.style.transform="translateX(0%)",this.cleanupScreens()}}}!function(){var t;eX();let e=document.getElementById("root");if(null===e)throw Error("No root found.");t={appScreenTransition:new eN({disabledAreaSelectors:[`[${eT}]`]}),contentScreenSlider:new eO({allowedArea:50,threshold:.3,animationDuration:300})},v.set(eA,t),e.append(eC(new eI))}();
//# sourceMappingURL=index.ebf9abcf.js.map
